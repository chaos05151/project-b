import{_ as Q,u as W,g as U,by as X,f as Y,o as i,c as m,a as s,b as o,w as n,r as b,U as f,aJ as w,a4 as g,bs as S,e as p,bw as $,p as Z,d as ee}from"./index.27a7b396.js";import{B as le,D as ae}from"./risk.47901767.js";import"./request.9d852b1a.js";const u=E=>(Z("data-v-3e7b7706"),E=E(),ee(),E),te={class:"crumbs"},oe=p("\u98CE\u63A7\u7CFB\u7EDF"),se=p("\u5173\u952E\u884C\u4E3A\u914D\u7F6E"),ne=p("\u7F16\u8F91\u5173\u952E\u884C\u4E3A"),de={class:"container"},_e={class:"text"},ie=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ue=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E",-1)),re=u(()=>s("span",null,"\u6B21",-1)),pe=p("\u5220\u9664"),ce={class:"text"},me=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),he=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),ve=u(()=>s("span",null,"\u6B21ecpm\u6700\u9AD8\u503C",-1)),fe=p("\u5220\u9664"),we={class:"text"},ge=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ye=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),Ve=u(()=>s("span",null,"\u6B21ecpm\u6700\u4F4E\u503C",-1)),be=p("\u5220\u9664"),xe={class:"text"},ke=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Ue=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),$e=u(()=>s("span",null,"\u6B21ecpm\u5747\u503C",-1)),Ce=p("\u5220\u9664"),De={class:"text"},Se=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Be=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u901A\u5173",-1)),Ee=u(()=>s("span",null,"\u6B21",-1)),je=p("\u5220\u9664"),Ne={class:"text"},Je=u(()=>s("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Oe=u(()=>s("span",null,"\u5C0F\u65F6\u5185\uFF0C\u63D0\u73B0",-1)),Ke=u(()=>s("span",null,"\u6B21",-1)),Ie=p("\u5220\u9664"),Le=p("\u6DFB\u52A0\u6761\u4EF6 +"),Re={style:{display:"flex","justify-content":"end"}},Te=p("\u4FDD\u5B58"),Fe=u(()=>s("span",null,"\u9009\u62E9\u6761\u4EF6 ",-1)),Me={class:"dialog-footer"},Ae=p("\u53D6\u6D88"),qe=p("\u786E\u8BA4"),ze={__name:"KeyBehaviorEidtor",setup(E){const K=W(),N=U(""),I=U("0"),B=U(!1),O=U([{label:"\u6FC0\u52B1\u89C6\u9891",value:"event_1"},{label:"\u5176\u4ED6\u7C7B\u578B",value:"event_2"}]),L=X(),J=U([{value:"1"},{value:"2"},{value:"3"},{value:"5"},{value:"10"}]),j=U("1"),R=U([{value:"1",label:"\u5E7F\u544A\u64AD\u653E"},{value:"2",label:"ecpm\u6700\u9AD8\u503C"},{value:"3",label:"ecpm\u6700\u4F4E\u503C"},{value:"4",label:"ecpm\u5747\u503C"},{value:"5",label:"\u901A\u5173"},{value:"6",label:"\u63D0\u73B0"}]),T=U("1"),e=Y({name:"",behavior_type:"event_1",condition:"1",ad_play:[],ecpm_large:[],ecpm_middle:[],ecpm_small:[],passed:[],withdraw:[]});let x=JSON.parse(L.params.data);console.log(x),N.value=x.id,I.value=x.behavior_type,T.value=x.condition,e.behavior_type=x.behavior_type,e.condition=x.condition,e.name=x.name;let r=JSON.parse(x.rule);console.log(r),r.ad_play&&e.ad_play.push(r.ad_play),r.ecpm_large&&e.ecpm_large.push(r.ecpm_large),r.ecpm_middle&&e.ecpm_middle.push(r.ecpm_middle),r.ecpm_small&&e.ecpm_small.push(r.ecpm_small),r.passed&&e.passed.push(r.passed),r.withdraw&&e.withdraw.push(r.withdraw),console.log(e);const F=_=>{switch(console.log(_),_){case"event_1":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.ad_play=[{id:Date.now(),start_in:0,play_times:0}],e.ecpm_large=[{id:Date.now(),start_in:0,forwords_times:"1",large_value:0}],e.ecpm_small=[{id:Date.now(),start_in:0,forwords_times:"1",small_value:0}],e.ecpm_middle=[{id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}];break;case"event_2":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.passed=[{id:Date.now(),start_in:0,pass_times:0}],e.withdraw=[{id:Date.now(),start_in:0,withdraw_times:0}];break}},M=()=>{le().then(_=>{let t=_.data,h=[];for(let k in t)console.log(k,t[k]),h.push({value:k,label:t[k]});O.value=h}).catch(_=>{console.log(_)})},A=()=>{switch(console.log(j.value),j.value){case"1":console.log("\u5E7F\u544A\u64AD\u653E"),e.ad_play.length==0?e.ad_play.push({id:Date.now(),start_in:0,play_times:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"2":console.log("ecpm\u6700\u9AD8\u503C"),e.ecpm_large.length==0?e.ecpm_large.push({id:Date.now(),start_in:0,forwords_times:"1",large_value:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"3":console.log("ecpm\u6700\u4F4E\u503C"),e.ecpm_small.length==0?e.ecpm_small.push({id:Date.now(),start_in:0,forwords_times:"1",small_value:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"4":console.log("ecpm\u5747\u503C"),e.ecpm_middle.length==0?e.ecpm_middle.push({id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"5":console.log("\u901A\u5173"),e.passed.length==0?e.passed.push({id:Date.now(),start_in:0,pass_times:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"6":console.log("\u63D0\u73B0"),e.withdraw.length==0?e.withdraw.push({id:Date.now(),start_in:0,withdraw_times:0}):$({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break}B.value=!1},C=(_,t)=>{console.log(_,t),console.log(e[_]),e[_].splice(t,1)},q=()=>{let _=[],t=JSON.parse(JSON.stringify(e));delete t.behavior_type,delete t.condition,delete t.name,e.ad_play.length!=0&&(e.ad_play.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E${d.play_times}\u6B21`)}),t.ad_play={...e.ad_play[0]}),e.ecpm_large.length!=0&&(e.ecpm_large.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u9AD8\u503C${d.large_value}`)}),t.ecpm_large={...e.ecpm_large[0]}),e.ecpm_small!=0&&(e.ecpm_small.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u4F4E\u503C${d.small_value}`)}),t.ecpm_small=e.ecpm_small[0]),e.ecpm_middle.length!=0&&(e.ecpm_middle.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u5747\u503C${d.middle_value}`)}),t.ecpm_middle={...e.ecpm_middle[0]}),e.passed.length!=0&&(e.passed.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.pass_times}\u6B21`)}),t.passed={...e.passed[0]}),e.withdraw.length!=0&&(e.withdraw.forEach(d=>{_.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.withdraw_times}\u6B21`)}),t.withdraw={...e.withdraw[0]});let h="";e.condition=="1"&&(h=_.join("\u4E14")),e.condition=="2"&&(h=_.join("\u6216")),e.name=h;for(let d in t)t[d].length==0&&delete t[d];console.log("form_copy",t);let k=JSON.stringify(t);return{name:h,behavior_type:e.behavior_type,condition:e.condition,rule:k}},z=()=>{let _=q();console.log(N.value,_),ae(N.value,_).then(t=>{t.status==200&&($({type:"success",message:"\u66F4\u65B0\u6210\u529F"}),K.push({name:"keybehavior"}))}).catch(t=>{console.log(t)})};return M(),(_,t)=>{const h=b("el-breadcrumb-item"),k=b("el-breadcrumb"),D=b("el-option"),d=b("el-select"),y=b("el-form-item"),c=b("el-input-number"),V=b("el-button"),G=b("el-switch"),H=b("el-form"),P=b("el-dialog");return i(),m("div",null,[s("div",te,[o(k,{separator:"/"},{default:n(()=>[o(h,null,{default:n(()=>[oe]),_:1}),o(h,null,{default:n(()=>[se]),_:1}),o(h,null,{default:n(()=>[ne]),_:1})]),_:1})]),s("div",de,[o(H,{model:e},{default:n(()=>[o(y,{label:"\u5173\u952E\u884C\u4E3A\u7C7B\u578B"},{default:n(()=>[o(d,{modelValue:e.behavior_type,"onUpdate:modelValue":t[0]||(t[0]=l=>e.behavior_type=l),onChange:F},{default:n(()=>[(i(!0),m(f,null,w(O.value,l=>(i(),g(D,{label:l.label,value:l.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),(i(!0),m(f,null,w(e.ad_play,(l,v)=>(i(),g(y,{label:"\u5E7F\u544A\u64AD\u653E",key:l.id},{default:n(()=>[s("div",_e,[s("div",null,[ie,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ue,o(c,{modelValue:l.play_times,"onUpdate:modelValue":a=>l.play_times=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),re]),o(V,{type:"text",onClick:S(a=>C("ad_play",v),["prevent"])},{default:n(()=>[pe]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),m(f,null,w(e.ecpm_large,(l,v)=>(i(),g(y,{label:"ecpm\u6700\u9AD8\u503C",key:l.id},{default:n(()=>[s("div",ce,[s("div",null,[me,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),he,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"},controls:!1},{default:n(()=>[(i(!0),m(f,null,w(J.value,a=>(i(),g(D,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),ve,o(c,{modelValue:l.large_value,"onUpdate:modelValue":a=>l.large_value=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(V,{type:"text",onClick:S(a=>C("ecpm_large",v),["prevent"])},{default:n(()=>[fe]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),m(f,null,w(e.ecpm_small,(l,v)=>(i(),g(y,{label:"ecpm\u6700\u4F4E\u503C",key:l.id},{default:n(()=>[s("div",we,[s("div",null,[ge,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ye,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:n(()=>[(i(!0),m(f,null,w(J.value,a=>(i(),g(D,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),Ve,o(c,{modelValue:l.small_value,"onUpdate:modelValue":a=>l.small_value=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(V,{type:"text",onClick:S(a=>C("ecpm_small",v),["prevent"])},{default:n(()=>[be]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),m(f,null,w(e.ecpm_middle,(l,v)=>(i(),g(y,{label:"ecpm\u5747\u503C",key:l.id},{default:n(()=>[s("div",xe,[s("div",null,[ke,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ue,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:n(()=>[(i(!0),m(f,null,w(J.value,a=>(i(),g(D,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),$e,o(c,{modelValue:l.middle_value,"onUpdate:modelValue":a=>l.middle_value=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(V,{type:"text",onClick:S(a=>C("ecpm_middle",v),["prevent"])},{default:n(()=>[Ce]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),m(f,null,w(e.passed,(l,v)=>(i(),g(y,{label:"\u901A\u5173",key:l.id},{default:n(()=>[s("div",De,[s("div",null,[Se,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Be,o(c,{modelValue:l.pass_times,"onUpdate:modelValue":a=>l.pass_times=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ee]),o(V,{type:"text",onClick:S(a=>C("passed",v),["prevent"])},{default:n(()=>[je]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),m(f,null,w(e.withdraw,(l,v)=>(i(),g(y,{label:"\u63D0\u73B0",key:l.id},{default:n(()=>[s("div",Ne,[s("div",null,[Je,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Oe,o(c,{modelValue:l.withdraw_times,"onUpdate:modelValue":a=>l.withdraw_times=a,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ke]),o(V,{type:"text",onClick:S(a=>C("withdraw",v),["prevent"])},{default:n(()=>[Ie]),_:2},1032,["onClick"])])]),_:2},1024))),128)),o(y,null,{default:n(()=>[o(V,{type:"text",onClick:t[1]||(t[1]=l=>B.value=!0)},{default:n(()=>[Le]),_:1})]),_:1}),o(y,{label:"\u6761\u4EF6"},{default:n(()=>[o(G,{modelValue:e.condition,"onUpdate:modelValue":t[2]||(t[2]=l=>e.condition=l),"active-value":"2","inactive-value":"1","active-text":"\u6216","inactive-text":"\u4E14"},null,8,["modelValue"])]),_:1}),o(y,null,{default:n(()=>[s("div",Re,[o(V,{type:"primary",onClick:z},{default:n(()=>[Te]),_:1})])]),_:1})]),_:1},8,["model"]),o(P,{modelValue:B.value,"onUpdate:modelValue":t[5]||(t[5]=l=>B.value=l),title:"\u6DFB\u52A0\u6761\u4EF6",width:"30%"},{footer:n(()=>[s("span",Me,[o(V,{onClick:t[4]||(t[4]=l=>B.value=!1)},{default:n(()=>[Ae]),_:1}),o(V,{type:"primary",onClick:A},{default:n(()=>[qe]),_:1})])]),default:n(()=>[Fe,o(d,{modelValue:j.value,"onUpdate:modelValue":t[3]||(t[3]=l=>j.value=l)},{default:n(()=>[(i(!0),m(f,null,w(R.value,l=>(i(),g(D,{value:l.value,label:l.label,key:l.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])])}}};var Qe=Q(ze,[["__scopeId","data-v-3e7b7706"]]);export{Qe as default};

import{_ as Y,u as Z,g as V,O as ee,f as le,r as b,o as i,c,a as n,b as t,w as s,F as v,H as h,I as f,G as ae,P as D,e as p,E as U,p as te,d as oe}from"./index.8b258034.js";import{A as se,C as ne}from"./risk.8a321ac9.js";import{k as de}from"./keyBehavior.0b3bca99.js";import"./request.3a42e2ab.js";const _=B=>(te("data-v-710ab104"),B=B(),oe(),B),ie={class:"crumbs"},ue=p("\u98CE\u63A7\u7CFB\u7EDF"),_e=p("\u5173\u952E\u884C\u4E3A\u914D\u7F6E"),pe=p("\u7F16\u8F91\u5173\u952E\u884C\u4E3A"),re={class:"container"},ce={class:"text"},me=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ve=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E",-1)),he=_(()=>n("span",null,"\u6B21",-1)),fe=p("\u5220\u9664"),we={class:"text"},ye=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ge=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),Ve=_(()=>n("span",null,"\u6B21ecpm\u6700\u9AD8\u503C",-1)),be=p("\u5220\u9664"),xe={class:"text"},ke=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Ue=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),$e=_(()=>n("span",null,"\u6B21ecpm\u6700\u4F4E\u503C",-1)),Ce=p("\u5220\u9664"),De={class:"text"},Ee=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Be=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),Se=_(()=>n("span",null,"\u6B21ecpm\u5747\u503C",-1)),je=p("\u5220\u9664"),Ne={class:"text"},Oe=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Ke=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u901A\u5173",-1)),Ie=_(()=>n("span",null,"\u6B21",-1)),Je=p("\u5220\u9664"),Le={class:"text"},Fe=_(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Re=_(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u63D0\u73B0",-1)),Te=_(()=>n("span",null,"\u6B21",-1)),Ae=p("\u5220\u9664"),Me=p("\u6DFB\u52A0\u6761\u4EF6 +"),Ge={style:{display:"flex","justify-content":"end"}},He=p("\u8FD4\u56DE"),Pe=p("\u4FDD\u5B58"),qe=_(()=>n("span",null,"\u9009\u62E9\u6761\u4EF6 ",-1)),ze={class:"dialog-footer"},Qe=p("\u53D6\u6D88"),We=p("\u786E\u8BA4"),Xe={__name:"KeyBehaviorEidtor",setup(B){const I=Z(),N=V(""),L=V("0"),F=V(de.events),S=V("event_1"),E=V(!1),J=V([{label:"\u6FC0\u52B1\u89C6\u9891",value:"event_1"},{label:"\u5176\u4ED6\u7C7B\u578B",value:"event_2"}]),R=ee(),O=V([{value:"1"},{value:"2"},{value:"3"},{value:"5"},{value:"10"}]),j=V("1"),T=V([{value:"1",label:"\u5E7F\u544A\u64AD\u653E"},{value:"2",label:"ecpm\u6700\u9AD8\u503C"},{value:"3",label:"ecpm\u6700\u4F4E\u503C"},{value:"4",label:"ecpm\u5747\u503C"},{value:"5",label:"\u901A\u5173"},{value:"6",label:"\u63D0\u73B0"}]),A=V("1"),e=le({name:"",behavior_type:"ad_play",condition:"1",ad_play:[],ecpm_large:[],ecpm_middle:[],ecpm_small:[],passed:[],withdraw:[]});let x=JSON.parse(R.params.data);console.log(x),N.value=x.id,L.value=x.behavior_type,A.value=x.condition,e.behavior_type=x.behavior_type,e.condition=x.condition,e.name=x.name,S.value=x.event_name;let r=JSON.parse(x.rule);console.log(r),r.ad_play&&e.ad_play.push(r.ad_play),r.ecpm_large&&e.ecpm_large.push(r.ecpm_large),r.ecpm_middle&&e.ecpm_middle.push(r.ecpm_middle),r.ecpm_small&&e.ecpm_small.push(r.ecpm_small),r.passed&&e.passed.push(r.passed),r.withdraw&&e.withdraw.push(r.withdraw),console.log(e);const M=u=>{switch(console.log(u),u){case"ad_play":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.ad_play=[{id:Date.now(),start_in:0,play_times:0}],e.ecpm_large=[{id:Date.now(),start_in:0,forwords_times:"1",large_value:0}],e.ecpm_small=[{id:Date.now(),start_in:0,forwords_times:"1",small_value:0}],e.ecpm_middle=[{id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}];break;case"other":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.passed=[{id:Date.now(),start_in:0,pass_times:0}],e.withdraw=[{id:Date.now(),start_in:0,withdraw_times:0}];break}},G=()=>{se().then(u=>{u.status==200&&(J.value=u.data.behavior_type)}).catch(u=>{console.log(u)})},H=()=>{switch(console.log(j.value),j.value){case"1":console.log("\u5E7F\u544A\u64AD\u653E"),e.ad_play.length==0?e.ad_play.push({id:Date.now(),start_in:0,play_times:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"2":console.log("ecpm\u6700\u9AD8\u503C"),e.ecpm_large.length==0?e.ecpm_large.push({id:Date.now(),start_in:0,forwords_times:"1",large_value:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"3":console.log("ecpm\u6700\u4F4E\u503C"),e.ecpm_small.length==0?e.ecpm_small.push({id:Date.now(),start_in:0,forwords_times:"1",small_value:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"4":console.log("ecpm\u5747\u503C"),e.ecpm_middle.length==0?e.ecpm_middle.push({id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"5":console.log("\u901A\u5173"),e.passed.length==0?e.passed.push({id:Date.now(),start_in:0,pass_times:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"6":console.log("\u63D0\u73B0"),e.withdraw.length==0?e.withdraw.push({id:Date.now(),start_in:0,withdraw_times:0}):U({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break}E.value=!1},C=(u,o)=>{console.log(u,o),console.log(e[u]),e[u].splice(o,1)},P=()=>{let u=[],o=JSON.parse(JSON.stringify(e));delete o.behavior_type,delete o.condition,delete o.name,e.ad_play.length!=0&&(e.ad_play.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E${d.play_times}\u6B21`)}),o.ad_play={...e.ad_play[0]}),e.ecpm_large.length!=0&&(e.ecpm_large.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u9AD8\u503C${d.large_value}`)}),o.ecpm_large={...e.ecpm_large[0]}),e.ecpm_small!=0&&(e.ecpm_small.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u4F4E\u503C${d.small_value}`)}),o.ecpm_small=e.ecpm_small[0]),e.ecpm_middle.length!=0&&(e.ecpm_middle.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u5747\u503C${d.middle_value}`)}),o.ecpm_middle={...e.ecpm_middle[0]}),e.passed.length!=0&&(e.passed.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.pass_times}\u6B21`)}),o.passed={...e.passed[0]}),e.withdraw.length!=0&&(e.withdraw.forEach(d=>{u.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.withdraw_times}\u6B21`)}),o.withdraw={...e.withdraw[0]});let k="";e.condition=="1"&&(k=u.join("\u4E14")),e.condition=="2"&&(k=u.join("\u6216")),e.name=k;for(let d in o)o[d].length==0&&delete o[d];console.log("form_copy",o);let K=JSON.stringify(o);return{event_name:S.value,name:k,behavior_type:e.behavior_type,condition:e.condition,rule:K}},q=()=>{let u=P();console.log(N.value,u),ne(N.value,u).then(o=>{o.status==200?(U({type:"success",message:"\u66F4\u65B0\u6210\u529F"}),I.push({name:"keybehavior"})):U({type:"warning",message:o.message})}).catch(o=>{console.log(o)})},z=()=>{I.go(-1)};return G(),(u,o)=>{const k=b("el-breadcrumb-item"),K=b("el-breadcrumb"),$=b("el-option"),d=b("el-select"),w=b("el-form-item"),m=b("el-input-number"),y=b("el-button"),Q=b("el-switch"),W=b("el-form"),X=b("el-dialog");return i(),c("div",null,[n("div",ie,[t(K,{separator:"/"},{default:s(()=>[t(k,null,{default:s(()=>[ue]),_:1}),t(k,null,{default:s(()=>[_e]),_:1}),t(k,null,{default:s(()=>[pe]),_:1})]),_:1})]),n("div",re,[t(W,{model:e},{default:s(()=>[t(w,{label:"\u6DFB\u52A0\u5173\u952E\u884C\u4E3A\u4E8B\u4EF6"},{default:s(()=>[t(d,{modelValue:S.value,"onUpdate:modelValue":o[0]||(o[0]=l=>S.value=l)},{default:s(()=>[(i(!0),c(v,null,h(F.value,l=>(i(),f($,{label:l.label,key:l.value,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(w,{label:"\u5173\u952E\u884C\u4E3A\u7C7B\u578B"},{default:s(()=>[t(d,{modelValue:e.behavior_type,"onUpdate:modelValue":o[1]||(o[1]=l=>e.behavior_type=l),onChange:M},{default:s(()=>[(i(!0),c(v,null,h(J.value,l=>(i(),f($,{label:l.label,value:l.value},null,8,["label","value"]))),256)),ae(` <el-option label="\u6FC0\u52B1\u89C6\u9891" value="event_1"></el-option>
                        <el-option label="\u5176\u4ED6\u7C7B\u578B" value="event_2"></el-option> `)]),_:1},8,["modelValue"])]),_:1}),(i(!0),c(v,null,h(e.ad_play,(l,g)=>(i(),f(w,{label:"\u5E7F\u544A\u64AD\u653E",key:l.id},{default:s(()=>[n("div",ce,[n("div",null,[me,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ve,t(m,{modelValue:l.play_times,"onUpdate:modelValue":a=>l.play_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),he]),t(y,{type:"text",onClick:D(a=>C("ad_play",g),["prevent"])},{default:s(()=>[fe]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),c(v,null,h(e.ecpm_large,(l,g)=>(i(),f(w,{label:"ecpm\u6700\u9AD8\u503C",key:l.id},{default:s(()=>[n("div",we,[n("div",null,[ye,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ge,t(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"},controls:!1},{default:s(()=>[(i(!0),c(v,null,h(O.value,a=>(i(),f($,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),Ve,t(m,{modelValue:l.large_value,"onUpdate:modelValue":a=>l.large_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),t(y,{type:"text",onClick:D(a=>C("ecpm_large",g),["prevent"])},{default:s(()=>[be]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),c(v,null,h(e.ecpm_small,(l,g)=>(i(),f(w,{label:"ecpm\u6700\u4F4E\u503C",key:l.id},{default:s(()=>[n("div",xe,[n("div",null,[ke,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ue,t(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:s(()=>[(i(!0),c(v,null,h(O.value,a=>(i(),f($,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),$e,t(m,{modelValue:l.small_value,"onUpdate:modelValue":a=>l.small_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),t(y,{type:"text",onClick:D(a=>C("ecpm_small",g),["prevent"])},{default:s(()=>[Ce]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),c(v,null,h(e.ecpm_middle,(l,g)=>(i(),f(w,{label:"ecpm\u5747\u503C",key:l.id},{default:s(()=>[n("div",De,[n("div",null,[Ee,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Be,t(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:s(()=>[(i(!0),c(v,null,h(O.value,a=>(i(),f($,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),Se,t(m,{modelValue:l.middle_value,"onUpdate:modelValue":a=>l.middle_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),t(y,{type:"text",onClick:D(a=>C("ecpm_middle",g),["prevent"])},{default:s(()=>[je]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),c(v,null,h(e.passed,(l,g)=>(i(),f(w,{label:"\u901A\u5173",key:l.id},{default:s(()=>[n("div",Ne,[n("div",null,[Oe,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ke,t(m,{modelValue:l.pass_times,"onUpdate:modelValue":a=>l.pass_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ie]),t(y,{type:"text",onClick:D(a=>C("passed",g),["prevent"])},{default:s(()=>[Je]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(i(!0),c(v,null,h(e.withdraw,(l,g)=>(i(),f(w,{label:"\u63D0\u73B0",key:l.id},{default:s(()=>[n("div",Le,[n("div",null,[Fe,t(m,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Re,t(m,{modelValue:l.withdraw_times,"onUpdate:modelValue":a=>l.withdraw_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Te]),t(y,{type:"text",onClick:D(a=>C("withdraw",g),["prevent"])},{default:s(()=>[Ae]),_:2},1032,["onClick"])])]),_:2},1024))),128)),t(w,null,{default:s(()=>[t(y,{type:"text",onClick:o[2]||(o[2]=l=>E.value=!0)},{default:s(()=>[Me]),_:1})]),_:1}),t(w,{label:"\u6761\u4EF6"},{default:s(()=>[t(Q,{modelValue:e.condition,"onUpdate:modelValue":o[3]||(o[3]=l=>e.condition=l),"active-value":"2","inactive-value":"1","active-text":"\u6216","inactive-text":"\u4E14"},null,8,["modelValue"])]),_:1}),t(w,null,{default:s(()=>[n("div",Ge,[t(y,{type:"primary",onClick:z},{default:s(()=>[He]),_:1}),t(y,{type:"primary",onClick:q},{default:s(()=>[Pe]),_:1})])]),_:1})]),_:1},8,["model"]),t(X,{modelValue:E.value,"onUpdate:modelValue":o[6]||(o[6]=l=>E.value=l),title:"\u6DFB\u52A0\u6761\u4EF6",width:"30%"},{footer:s(()=>[n("span",ze,[t(y,{onClick:o[5]||(o[5]=l=>E.value=!1)},{default:s(()=>[Qe]),_:1}),t(y,{type:"primary",onClick:H},{default:s(()=>[We]),_:1})])]),default:s(()=>[qe,t(d,{modelValue:j.value,"onUpdate:modelValue":o[4]||(o[4]=l=>j.value=l)},{default:s(()=>[(i(!0),c(v,null,h(T.value,l=>(i(),f($,{value:l.value,label:l.label,key:l.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])])}}},al=Y(Xe,[["__scopeId","data-v-710ab104"],["__file","/Users/apple/Desktop/project-b/relationship.b/src/views/KeyBehaviorEidtor.vue"]]);export{al as default};

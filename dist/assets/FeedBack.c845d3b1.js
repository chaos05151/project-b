import{_ as M,u as U,r as s,D as I,w as A,e as r,a as f,c as P,t as h,j as t,k as n,h as g,p as C,T as H,b as E,z as b,F as G,m as J,A as K,B as O}from"./index.3fee5d13.js";import{e as Q}from"./user.18d2d274.js";import{h as R}from"./moment.9709ab41.js";import{s as F}from"./showButton.83421764.js";const W=F("service:feedback:view"),X=F("service:feedback:edit"),V=U(),p=s(""),v=s(""),Z=s(0),L=s(""),z=s(0),$=s(""),ee=s("\u9879\u76EE"),u=s("");let S=s([]),T=s([]);const te=I({}),i=I({page_index:1,page_size:10}),m=o=>{Q(o).then(l=>{L.value=l.data.lists.map(c=>({...c,dispose_status:c.dispose_status==1?"\u5DF2\u5904\u7406":"\u672A\u5904\u7406",updated_at:c.updated_at?R(c.updated_at).format("YYYY-MM-DD HH:mm:ss"):""})),z.value=l.data.total_count?l.data.total_count:0}).catch(()=>{})},ae=()=>{H().then(o=>{S.value=o.data,console.log(o.data[0].id),p.value=o.data[0].id;let l={...i,main_product_id:o.data[0].id};m(l)}).catch(()=>{})},x=o=>{E({main_product_id:o}).then(c=>{T.value=c.data}).catch(()=>{})},oe={name:"basetable",setup(){u.value="",ae();const o=a=>{i.page_index=a,e()},l=a=>{e()},c=()=>{v.value="",p.value&&(e(),x(p.value))},e=()=>{if(p.value)if(v.value)if(u.value){const a={product_id:v.value,dispose_status:u.value,...i};m(a)}else{const a={product_id:v.value,...i};m(a)}else if(u.value){const a={main_product_id:p.value,dispose_status:u.value,...i};m(a)}else{const a={main_product_id:p.value,...i};m(a)}else if(u.value){const a={dispose_status:u.value,...i};m(a)}else m(i)};A(()=>V.mainProductId,(a,k)=>{p.value=a,x(a),console.log(a)});const B=()=>{v.value="",u.value="",e()};return x(V.mainProductId),{button_view:W,button_edit:X,form:te,tableData:L,product_type:ee,options:S,suboptions:T,main_product_name_selected:p,product_name_selected:v,main_product_value_select:$,check_main_product_name:Z,query:i,pageTotal:z,reset:B,getData:m,getProductAndDataList:c,getDataById:e,handlePageChange:o,getStaus:l,value:u}},methods:{feedBackDetail(o){this.$router.push({name:"feedbackdetail",params:{wechat_user_id:o}})},goback(){this.$router.go(-1)}}},j=o=>(K("data-v-5e20d142"),o=o(),O(),o),le={class:"crumbs"},ne=b("\u98CE\u63A7\u7CFB\u7EDF"),se=b("\u7528\u6237\u7BA1\u7406"),ce=b("\u7528\u6237\u53CD\u9988"),de={class:"container"},_e={class:"handle-box"},ue=j(()=>h("span",null," \u9009\u62E9\u5E94\u7528 ",-1)),ie=j(()=>h("span",null," \u9009\u62E9\u5904\u7406\u72B6\u6001 ",-1)),re=b("\xA0\xA0 "),pe=b("\u67E5\u8BE2"),me=b("\u91CD\u7F6E"),be=b("\u8BE6\u60C5 "),ve={class:"pagination"};function he(o,l,c,e,B,a){const k=r("el-breadcrumb-item"),N=r("el-breadcrumb"),y=r("el-option"),w=r("el-select"),D=r("el-button"),d=r("el-table-column"),Y=r("el-table"),q=r("el-pagination");return f(),P("div",null,[h("div",le,[t(N,{separator:"/"},{default:n(()=>[t(k,null,{default:n(()=>[ne]),_:1}),t(k,null,{default:n(()=>[se]),_:1}),t(k,null,{default:n(()=>[ce]),_:1})]),_:1})]),h("div",de,[h("div",_e,[g("v-if",!0),ue,t(w,{modelValue:e.product_name_selected,"onUpdate:modelValue":l[1]||(l[1]=_=>e.product_name_selected=_),placeholder:"\u5E94\u7528\u540D\u79F0",class:"m-2",style:{width:"200px"}},{default:n(()=>[(f(!0),P(G,null,J(e.suboptions,_=>(f(),C(y,{key:_.product_id,label:_.product_name,value:_.product_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),ie,t(w,{modelValue:e.value,"onUpdate:modelValue":l[2]||(l[2]=_=>e.value=_),placeholder:"\u5904\u7406\u72B6\u6001",class:"m-2",style:{width:"200px"}},{default:n(()=>[g(' <el-option label="\u5168\u90E8" value=""></el-option> '),t(y,{label:"\u672A\u5904\u7406",value:"0"}),t(y,{label:"\u5DF2\u5904\u7406",value:"1"})]),_:1},8,["modelValue"]),re,t(D,{type:"primary",onClick:e.getDataById},{default:n(()=>[pe]),_:1},8,["onClick"]),t(D,{type:"info",onClick:e.reset},{default:n(()=>[me]),_:1},8,["onClick"]),g(' <el-button type="primary" @click="goback">\u8FD4\u56DE</el-button> ')]),e.button_view?(f(),C(Y,{key:0,data:e.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:n(()=>[t(d,{prop:"main_product_name",label:"\u9879\u76EE\u540D\u79F0"}),t(d,{prop:"product_name",label:"\u5E94\u7528\u540D\u79F0"}),t(d,{prop:"id",label:"\u7528\u6237ID"}),t(d,{prop:"nickname",label:"\u7528\u6237\u540D"}),t(d,{prop:"tel",label:"\u7535\u8BDD"}),t(d,{prop:"oaid",label:"\u6570\u76DFid"}),t(d,{prop:"dispose_status",label:"\u662F\u5426\u5904\u7406"}),t(d,{prop:"updated_at",sortable:"",label:"\u53CD\u9988\u65F6\u95F4"}),t(d,{label:"\u53CD\u9988\u8BE6\u60C5",width:"220",align:"center"},{default:n(_=>[e.button_edit?(f(),C(D,{key:0,type:"text",icon:"el-icon-link",onClick:fe=>a.feedBackDetail(_.row.id)},{default:n(()=>[be]),_:2},1032,["onClick"])):g("v-if",!0)]),_:1})]),_:1},8,["data"])):g("v-if",!0),h("div",ve,[t(q,{background:"",layout:"total, prev, pager, next","current-page":e.query.page_index,"page-size":e.query.page_size,total:e.pageTotal,onCurrentChange:e.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}const Ce=M(oe,[["render",he],["__scopeId","data-v-5e20d142"],["__file","/Users/apple/Desktop/project-b/relationship.b/src/views/FeedBack.vue"]]);export{Ce as default};

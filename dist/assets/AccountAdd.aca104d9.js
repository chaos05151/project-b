import{_ as H,f as q,g as d,r as u,o as i,c as b,a as P,b as t,w as o,F as w,I as y,H as j,e as p,t as W}from"./index.95db1816.js";import"./request.0f196fd3.js";import{a as G,b as B}from"./product.44e7e689.js";const K={class:"crumbs"},Q=p("\u6743\u9650\u7BA1\u7406"),X=p("\u6DFB\u52A0\u8D26\u53F7"),Y={class:"container"},Z=p("\u5168\u9009"),$=p("\u53D6\u6D88"),ee=p("\u4FDD\u5B58"),le={__name:"AccountAdd",setup(te){const n=q({user_name:"",password:"",product_id:"",name:"",privilegeList:""}),f=d(""),C=d([]),g=d([]),E=()=>{G().then(a=>{a.status==200&&(C.value=a.data.map(e=>({value:e.id,label:e.main_product_name,children:[]})))})};d([]);const h=d(!1),_=d([]),V=d(!0),F=d();d({expandTrigger:"click",lazy:!0,lazyLoad(a,e){const{value:r}=a;B({main_product_id:r}).then(c=>{if(c.data==200){console.log(c);const s=c.data.map(m=>({value:m.product_id,label:m.item.product_name}));e(s)}})}});const S=a=>{console.log(a)},M=()=>{g.value=[],n.product_id="";let a={main_product_id:f.value};B(a).then(e=>{e.status==200&&(g.value=e.data.map(r=>({value:r.product_id,label:r.product_name})))})},v=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"server",label:"\u5BA2\u670D"},{value:"yunying",label:"\u8FD0\u8425"}],z=a=>{const e=a.length;h.value=e===v.length,V.value=e>0&&e<v.length},D=a=>{console.log(_.value,a),_.value=a?v.map(e=>e.value):[],V.value=!1},I=(a,e,r)=>{if(e)r();else return r(new Error("\u8BF7\u8F93\u5165\u7528\u6237\u540D"))},k=(a,e,r)=>{if(e)r();else return r(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801"))},x=(a,e,r)=>{if(e)r();else return r(new Error("\u8BF7\u8F93\u5165\u6635\u79F0"))},J=q({user_name:[{validator:I,trigger:"blur"}],password:[{validator:k,trigger:"blur"}],name:[{validator:x,trigger:"blur"}]}),O=()=>{n.privilegeList=_.value;let a=JSON.parse(JSON.stringify(n));x(),k(),k(),console.log(a)};return E(),(a,e)=>{const r=u("el-breadcrumb-item"),L=u("el-breadcrumb"),c=u("el-input"),s=u("el-form-item"),m=u("el-option"),U=u("el-select"),A=u("el-checkbox"),R=u("el-checkbox-group"),N=u("el-button"),T=u("el-form");return i(),b("div",null,[P("div",K,[t(L,{separator:"/"},{default:o(()=>[t(r,null,{default:o(()=>[Q]),_:1}),t(r,null,{default:o(()=>[X]),_:1})]),_:1})]),P("div",Y,[t(T,{model:n,"label-width":"100px",style:{width:"400px"},"status-icon":"",ref_key:"ruleFormRef",ref:F,rules:J},{default:o(()=>[t(s,{prop:"user_name",label:"\u7528\u6237\u540D",required:!0},{default:o(()=>[t(c,{modelValue:n.user_name,"onUpdate:modelValue":e[0]||(e[0]=l=>n.user_name=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",clearable:""},null,8,["modelValue"])]),_:1}),t(s,{prop:"password",label:"\u5BC6\u7801",required:!0},{default:o(()=>[t(c,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=l=>n.password=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1}),t(s,{prop:"name",label:"\u6635\u79F0",required:!0},{default:o(()=>[t(c,{modelValue:n.name,"onUpdate:modelValue":e[2]||(e[2]=l=>n.name=l),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(s,{label:"\u9879\u76EE",required:""},{default:o(()=>[t(U,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=l=>f.value=l),onChange:M,placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE"},{default:o(()=>[(i(!0),b(w,null,y(C.value,l=>(i(),j(m,{value:l.value,label:l.label,key:l.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(s,{label:"\u5E94\u7528",required:!0},{default:o(()=>[t(U,{modelValue:n.product_id,"onUpdate:modelValue":e[4]||(e[4]=l=>n.product_id=l),onChange:S,placeholder:"\u8BF7\u5148\u9009\u62E9\u9879\u76EE"},{default:o(()=>[(i(!0),b(w,null,y(g.value,l=>(i(),j(m,{value:l.value,label:l.label,key:l.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(s,{prop:"prilegeList",label:"\u89D2\u8272",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:"blur"}]},{default:o(()=>[t(A,{modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=l=>h.value=l),indeterminate:V.value,onChange:D},{default:o(()=>[Z]),_:1},8,["modelValue","indeterminate"]),t(R,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=l=>_.value=l),onChange:z},{default:o(()=>[(i(),b(w,null,y(v,l=>t(A,{key:l.value,label:l.value},{default:o(()=>[p(W(l.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),t(s,null,{default:o(()=>[t(N,null,{default:o(()=>[$]),_:1}),t(N,{type:"primary",onClick:O},{default:o(()=>[ee]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},ne=H(le,[["__file","/Users/apple/Desktop/project-b github/project-b/src/views/privilegeManagement/AccountAdd.vue"]]);export{ne as default};

import{_ as re,g as m,f as P,P as ue,u as ie,r,o as f,c as Y,a as b,b as t,w as a,G as y,e as s,t as i,F as j,I as W,H as g,J as V,K as U,D as q,E as _e}from"./index.95db1816.js";import{h as G}from"./moment.9709ab41.js";import{b as pe,c as ce,d as be,u as he}from"./user.d7ea680f.js";import{u as fe}from"./user.22cab16d.js";import"./request.0f196fd3.js";const we=[{prop:"id",label:"\u5E8F\u53F7",editable:!1,type:"input",show:!1,isedited:!0},{prop:"amount",label:"\u63D0\u73B0\u91D1\u989D",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip_address",label:"\u63D0\u73B0ip\u5730\u5740",editable:!1,type:"input",show:!0,isedited:!0},{prop:"batch_id",label:"\u63D0\u73B0\u8BA2\u5355\u53F7",editable:!1,type:"switch",show:!0},{prop:"status",label:"\u63D0\u73B0\u72B6\u6001",editable:!1,type:"input",show:!0},{prop:"updated_at",label:"\u63D0\u73B0\u65F6\u95F4",editable:!1,type:"input",show:!0}],me=[{prop:"id",label:"id",editable:!1,type:"input",show:!1,isedited:!0},{prop:"oaid",label:"\u6570\u76DFid",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip",label:"\u767B\u5F55ip",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip_address",label:"\u767B\u5F55ip\u5730\u5740",editable:!1,type:"input",show:!0},{prop:"updated_at",label:"\u767B\u5F55\u65F6\u95F4",editable:!1,type:"input",show:!0}],J={RiskHeaderFirstTab:we,RiskHeaderSecondTab:me};const ve={class:""},ge={class:"crumbs",style:{position:"relative"}},ye=s("\u98CE\u63A7\u7CFB\u7EDF"),De=s("\u7528\u6237\u7BA1\u7406"),ke=s("\u7528\u6237\u8BE6\u60C5"),Ve={class:"container"},Ue=s(" \u8FD4\u56DE"),xe=s("\u6B63\u5E38"),Ce=s("\u5C01\u79813\u5929"),Ye=s("\u5C01\u79817\u5929"),ze=s("\u6C38\u4E45\u5C01\u7981"),Te=s("\u5141\u8BB8"),He=s("\u7981\u6B62"),$e={class:"editable-row"},Me={class:"editable-row"},Ae={class:"editable-row-span"},Be={class:"editable-row"},Re={class:"editable-row"},Ee={class:"editable-row-span"},Fe={class:"pagination"},Se={__name:"UserDetail",setup(Ie){const z=fe(),D=m(0),T=m("first"),H=m([]),x=m([]),e=P({}),K=J.RiskHeaderFirstTab,O=J.RiskHeaderSecondTab,w=m(""),_=P({page_index:1,page_size:10}),C=m(0),$=m(""),Q=o=>{const n={...o,page_index:_.page_index,page_size:_.page_size};ce(n).then(p=>{C.value=p.data.total_count,H.value=p.data.lists.map(h=>({...h,updated_at:G(h.updated_at).format("YYYY-MM-DD HH:mm:ss"),status:h.status==1?"\u5F85\u5BA1\u6838":h.status==2?"\u63D0\u73B0\u4E2D":h.status==3?"\u5DF2\u63D0\u73B0":h.status==4?"\u62D2\u7EDD\u63D0\u73B0":h.status==5?"\u63D0\u73B0\u5931\u8D25":"\u672A\u77E5\u72B6\u6001"}))}).catch(()=>{})},M=o=>{pe(o).then(n=>{e.value=n.data,e.id=e.value.id,e.oaid=e.value.oaid,e.blacked_days=e.value.blacked_days,e.withdrawable=e.value.withdrawable,e.nickname=e.value.nickname,e.tel=e.value.tel,e.bind_account_count=e.value.bind_account_count,e.real_name_authenticated=e.value.real_name_authenticated?"\u662F":"\u5426",e.withdraw_reward=e.value.withdraw_reward,e.withdraw_times=e.value.withdraw_times,e.reward=e.value.reward,e.ip=e.value.ip,e.ip_address=e.value.ip_address}).catch(()=>{})},A=()=>{const o={uid:$.value,page_index:_.page_index,page_size:_.page_size};console.log(o),be(o).then(n=>{console.log("getUserLoginData",n.data),C.value=n.data.total_count,x.value=n.data.lists.map(p=>({...p,updated_at:G(p.updated_at).format("YYYY-MM-DD HH:mm:ss")})),console.log("tableDataAAAA.value",x.value)}).catch(()=>{})},B=(o,n)=>{he(o,n).then(p=>{p.status==200&&_e.success("\u4FEE\u6539\u6210\u529F\uFF01")})},R=o=>{const n={wechat_user_id:o,page_index:_.page_index,page_size:_.page_size};_.page_index,_.page_size,D.value==0?Q(n):D.value==1&&A()};ue(),w.value=z.achieveuseruserDetail,$.value=z.achieveuseruserDetail,R(w.value),M(w.value);const X=o=>{_.page_index=o,console.log(w.value),M(w.value),A()},Z=o=>{D.value=o.index,console.log("whichTab",D.value),R(w.value)},ee=()=>{const o={blacked_days:e.blacked_days};B(w.value,o)},ae=()=>{const o={withdrawable:e.withdrawable};B(w.value,o)},te=ie(),le=()=>{te.go(-1)};return(o,n)=>{const p=r("el-breadcrumb-item"),h=r("el-breadcrumb"),oe=r("el-button"),u=r("el-form-item"),k=r("el-form"),v=r("el-radio"),E=r("el-radio-group"),F=r("el-input"),S=r("el-date-picker"),I=r("el-table-column"),L=r("el-table"),N=r("el-tab-pane"),de=r("el-tabs"),se=r("el-pagination");return f(),Y("div",ve,[b("div",ge,[t(h,{separator:"/"},{default:a(()=>[t(p,null,{default:a(()=>[ye]),_:1}),t(p,null,{default:a(()=>[De]),_:1}),t(p,null,{default:a(()=>[ke]),_:1})]),_:1})]),b("div",Ve,[t(oe,{type:"primary",onClick:le,style:{float:"right"}},{default:a(()=>[Ue]),_:1}),t(k,{model:e,inline:!0},{default:a(()=>[t(u,{label:"\u7528\u6237id"},{default:a(()=>[s(i(e.id),1)]),_:1}),t(u,{label:"\u7528\u6237\u540D"},{default:a(()=>[s(i(e.nickname),1)]),_:1}),t(u,{label:"\u624B\u673A\u53F7\u7801"},{default:a(()=>[s(i(e.tel),1)]),_:1}),t(u,{label:"\u8BBE\u5907\u5173\u8054\u53F7"},{default:a(()=>[s(i(e.bind_account_count),1)]),_:1})]),_:1},8,["model"]),t(k,{model:e,inline:!0},{default:a(()=>[t(u,{label:"\u7D2F\u79EF\u79EF\u5206"},{default:a(()=>[s(i(e.reward),1)]),_:1}),t(u,{label:"\u7D2F\u79EF\u63D0\u73B0"},{default:a(()=>[s(i(e.withdraw_reward),1)]),_:1}),t(u,{label:"\u5DF2\u63D0\u73B0\u6B21\u6570"},{default:a(()=>[s(i(e.withdraw_times),1)]),_:1}),t(u,{label:"\u662F\u5426\u5B9E\u540D\u5236"},{default:a(()=>[s(i(e.real_name_authenticated),1)]),_:1})]),_:1},8,["model"]),t(k,{model:e,inline:!0},{default:a(()=>[t(u,{label:"\u6CE8\u518CIP"},{default:a(()=>[s(i(e.ip),1)]),_:1}),t(u,{label:"IP\u5730\u5740"},{default:a(()=>[s(i(e.ip_address),1)]),_:1}),t(u,{label:"\u6570\u76DFID"},{default:a(()=>[s(i(e.oaid),1)]),_:1})]),_:1},8,["model"]),t(k,{model:e},{default:a(()=>[t(u,{label:"\u5C01\u7981\u72B6\u6001"},{default:a(()=>[t(E,{onChange:ee,modelValue:e.blacked_days,"onUpdate:modelValue":n[0]||(n[0]=l=>e.blacked_days=l)},{default:a(()=>[t(v,{label:0},{default:a(()=>[xe]),_:1}),t(v,{label:3},{default:a(()=>[Ce]),_:1}),t(v,{label:7},{default:a(()=>[Ye]),_:1}),t(v,{label:-1},{default:a(()=>[ze]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"\u5141\u8BB8\u63D0\u73B0"},{default:a(()=>[t(E,{onChange:ae,modelValue:e.withdrawable,"onUpdate:modelValue":n[1]||(n[1]=l=>e.withdrawable=l)},{default:a(()=>[t(v,{label:!0},{default:a(()=>[Te]),_:1}),t(v,{label:!1},{default:a(()=>[He]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),y(` <el-button type="primary" style='position: absolute;right:10px;top:1px;'>\u6DFB\u52A0\u89C4\u5219</el-button> `),b("div",null,[t(de,{modelValue:T.value,"onUpdate:modelValue":n[2]||(n[2]=l=>T.value=l),type:"border-card",onTabClick:Z},{default:a(()=>[t(N,{label:"\u63D0\u73B0\u8BB0\u5F55",name:"first"},{default:a(()=>[t(L,{data:H.value,style:{width:"100%"}},{default:a(()=>[(f(!0),Y(j,null,W(q(K),(l,ne)=>(f(),g(I,{prop:l.prop,label:l.label,key:l.prop},{default:a(d=>[V(b("div",$e,[l.type==="input"?(f(),g(F,{key:0,size:"small",modelValue:d.row[l.prop],"onUpdate:modelValue":c=>d.row[l.prop]=c,placeholder:`\u8BF7\u8F93\u5165${l.label}`,onChange:c=>o.handleEdit(d.$index,d.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):y("v-if",!0),l.type==="date"?(f(),g(S,{key:1,modelValue:d.row[l.prop],"onUpdate:modelValue":c=>d.row[l.prop]=c,type:"date","value-format":"YYYY-MM-DD",placeholder:`\u8BF7\u8F93\u5165${l.label}`,onChange:c=>o.handleEdit(d.$index,d.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):y("v-if",!0)],512),[[U,l.editable||d.row.editable]]),V(b("div",Me,[b("span",Ae,i(d.row[l.prop]),1)],512),[[U,!l.editable&&!d.row.editable]])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])]),_:1}),t(N,{label:"\u767B\u5F55\u8BB0\u5F55",name:"second"},{default:a(()=>[t(L,{data:x.value,style:{width:"100%"}},{default:a(()=>[(f(!0),Y(j,null,W(q(O),(l,ne)=>(f(),g(I,{prop:l.prop,label:l.label,key:l.prop},{default:a(d=>[V(b("div",Be,[l.type==="input"?(f(),g(F,{key:0,size:"small",modelValue:d.row[l.prop],"onUpdate:modelValue":c=>d.row[l.prop]=c,placeholder:`\u8BF7\u8F93\u5165${l.label}`,onChange:c=>o.handleEdit(d.$index,d.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):y("v-if",!0),l.type==="date"?(f(),g(S,{key:1,modelValue:d.row[l.prop],"onUpdate:modelValue":c=>d.row[l.prop]=c,type:"date","value-format":"YYYY-MM-DD",placeholder:`\u8BF7\u8F93\u5165${l.label}`,onChange:c=>o.handleEdit(d.$index,d.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):y("v-if",!0)],512),[[U,l.editable||d.row.editable]]),V(b("div",Re,[b("span",Ee,i(d.row[l.prop]),1)],512),[[U,!l.editable&&!d.row.editable]])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),b("div",Fe,[t(se,{background:"",layout:"total, prev, pager, next","current-page":_.page_index,"page-size":_.page_size,total:C.value,onCurrentChange:X},null,8,["current-page","page-size","total"])])])])}}},qe=re(Se,[["__scopeId","data-v-31ad7fb6"],["__file","/Users/apple/Desktop/project-b github/project-b/src/views/UserDetail.vue"]]);export{qe as default};

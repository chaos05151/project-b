import{_ as E,u as j,g as b,f as P,r as s,o as R,c as D,a as v,b as e,w as a,D as B,e as u,E as d,y as M}from"./index.03d21809.js";import{u as S}from"./project.899661f6.js";import{d as U,m as q}from"./getMenus.d2e8ac28.js";import{u as J}from"./privilelge.c3bef13d.js";import"./request.b7a5dcc4.js";const O={class:"crumbs"},T=u("\u6743\u9650\u7BA1\u7406"),z=u("\u6DFB\u52A0\u89D2\u8272"),A={class:"container"},F=u("\u53D6\u6D88"),G=u("\u4FDD\u5B58"),H={__name:"PrivilegeEidtor",setup(I){const p=j(),_=b(""),t=P({name:"",remark:"",menus:[]}),m=b(),n=S(),h=U(q),k=(r,o)=>{J(r,o).then(l=>{l.status==200&&(d.success("\u6DFB\u52A0\u6210\u529F"),p.push({name:"privilegemanage"}))})},x=()=>{let r=JSON.parse(JSON.stringify(m.value.getCheckedNodes(!1,!0)));r=r.map(l=>l.id);const o=r.join(",");if(t.menus=o,console.log(r),t.menus==0){d.error("\u8BF7\u9009\u62E9\u89D2\u8272\u6743\u9650");return}else if(t.name==""){d.error("\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0");return}else k(_.value,t)},V=()=>{p.go(-1)},w=r=>{const o=r.split(",");M(()=>{o.forEach(l=>{m.value.setChecked(l,!0,!1)})})};return(()=>{console.log(n.privilegemanage),t.name=n.privilegemanage.name,t.remark=n.privilegemanage.remark,t.menus=n.privilegemanage.menus,_.value=n.privilegemanage.id;let r=n.privilegemanage.privilege;w(r)})(),(r,o)=>{const l=s("el-breadcrumb-item"),y=s("el-breadcrumb"),g=s("el-input"),i=s("el-form-item"),C=s("el-tree"),f=s("el-button"),N=s("el-form");return R(),D("div",null,[v("div",O,[e(y,{separator:"/"},{default:a(()=>[e(l,null,{default:a(()=>[T]),_:1}),e(l,null,{default:a(()=>[z]),_:1})]),_:1})]),v("div",A,[e(N,{model:t,"label-width":"100px",style:{width:"400px"}},{default:a(()=>[e(i,{prop:"name",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"}]},{default:a(()=>[e(g,{modelValue:t.name,"onUpdate:modelValue":o[0]||(o[0]=c=>t.name=c),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{prop:"remark",label:"\u5907\u6CE8/\u63CF\u8FF0"},{default:a(()=>[e(g,{modelValue:t.remark,"onUpdate:modelValue":o[1]||(o[1]=c=>t.remark=c),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u6635\u79F0"},null,8,["modelValue"])]),_:1}),e(i,{prop:"menus",label:"\u89D2\u8272\u6743\u9650",rules:[{required:!0,message:"\u8BF7\u9009\u62E9",trigger:"blur"}]},{default:a(()=>[e(C,{ref_key:"treeRef",ref:m,data:B(h),"show-checkbox":"","node-key":"id"},null,8,["data"])]),_:1}),e(i,null,{default:a(()=>[e(f,{onClick:V},{default:a(()=>[F]),_:1}),e(f,{type:"primary",onClick:x},{default:a(()=>[G]),_:1})]),_:1})]),_:1},8,["model"])])])}}},Z=E(H,[["__file","/Users/apple/Desktop/project-b github/project-b/src/views/privilegeManagement/PrivilegeEidtor.vue"]]);export{Z as default};

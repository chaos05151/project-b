import{_ as z,u as G,g as k,f as Q,r as y,o as _,c as p,a as n,b as o,w as s,F as v,H as h,I as f,P as $,e as r,E as b,p as W,d as X}from"./index.8b258034.js";import{A as Y,B as Z}from"./risk.8a321ac9.js";import{k as ee}from"./keyBehavior.0b3bca99.js";import"./request.3a42e2ab.js";const u=D=>(W("data-v-1bcbc5ca"),D=D(),X(),D),le={class:"crumbs"},ae=r("\u98CE\u63A7\u7CFB\u7EDF"),te=r("\u5173\u952E\u884C\u4E3A\u914D\u7F6E"),oe=r("\u65B0\u589E\u5173\u952E\u884C\u4E3A"),se={class:"container"},ne={class:"text"},de=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ie=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E",-1)),_e=u(()=>n("span",null,"\u6B21",-1)),ue=r("\u5220\u9664"),re={class:"text"},pe=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),ce=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),me=u(()=>n("span",null,"\u6B21ecpm\u6700\u9AD8\u503C",-1)),ve=r("\u5220\u9664"),he={class:"text"},fe=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),we=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),ge=u(()=>n("span",null,"\u6B21ecpm\u6700\u4F4E\u503C",-1)),ye=r("\u5220\u9664"),Ve={class:"text"},be=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),xe=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u524D",-1)),ke=u(()=>n("span",null,"\u6B21ecpm\u5747\u503C",-1)),Ue=r("\u5220\u9664"),$e={class:"text"},Ce=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),De=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u901A\u5173",-1)),Be=u(()=>n("span",null,"\u6B21",-1)),je=r("\u5220\u9664"),Ee={class:"text"},Se=u(()=>n("span",null,"\u81EA\u542F\u52A8\u8D77",-1)),Ae=u(()=>n("span",null,"\u5C0F\u65F6\u5185\uFF0C\u63D0\u73B0",-1)),Ie=u(()=>n("span",null,"\u6B21",-1)),Ke=r("\u5220\u9664"),Ne=r("\u6DFB\u52A0\u6761\u4EF6 +"),Le={style:{display:"flex","justify-content":"end"}},Fe=r("\u8FD4\u56DE"),Je=r("\u4FDD\u5B58"),Oe=u(()=>n("span",null,"\u9009\u62E9\u6761\u4EF6 ",-1)),Te={class:"dialog-footer"},Me=r("\u53D6\u6D88"),He=r("\u786E\u8BA4"),Pe={__name:"KeyBehaviorAdd",setup(D){const A=G(),K=k(ee.events),j=k("event_1"),I=k([{label:"\u6FC0\u52B1\u89C6\u9891",value:"event_1"},{label:"\u5176\u4ED6\u7C7B\u578B",value:"event_2"}]),C=k(!1),E=k([{value:"1"},{value:"2"},{value:"3"},{value:"5"},{value:"10"}]),B=k("1"),N=k([{value:"1",label:"\u5E7F\u544A\u64AD\u653E"},{value:"2",label:"ecpm\u6700\u9AD8\u503C"},{value:"3",label:"ecpm\u6700\u4F4E\u503C"},{value:"4",label:"ecpm\u5747\u503C"},{value:"5",label:"\u901A\u5173"},{value:"6",label:"\u63D0\u73B0"}]),e=Q({name:"",behavior_type:"ad_play",condition:"1",ad_play:[{id:Date.now(),start_in:0,play_times:0}],ecpm_large:[{id:Date.now(),start_in:0,forwords_times:"1",large_value:0}],ecpm_middle:[{id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}],ecpm_small:[{id:Date.now(),start_in:0,forwords_times:"1",small_value:0}],passed:[],withdraw:[]}),L=()=>{Y().then(i=>{i.status==200&&(I.value=i.data.behavior_type)}).catch(i=>{console.log(i)})},F=i=>{switch(console.log(i),i){case"ad_play":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.ad_play=[{id:Date.now(),start_in:0,play_times:0}],e.ecpm_large=[{id:Date.now(),start_in:0,forwords_times:"1",large_value:0}],e.ecpm_small=[{id:Date.now(),start_in:0,forwords_times:"1",small_value:0}],e.ecpm_middle=[{id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}];break;case"other":e.ad_play=[],e.ecpm_large=[],e.ecpm_middle=[],e.ecpm_small=[],e.passed=[],e.withdraw=[],e.passed=[{id:Date.now(),start_in:0,pass_times:0}],e.withdraw=[{id:Date.now(),start_in:0,withdraw_times:0}];break}},J=(i,t)=>{console.log(i,t),console.log(e[i][t].start_in+0)},O=()=>{let i=[],t=JSON.parse(JSON.stringify(e));delete t.behavior_type,delete t.condition,delete t.name,e.ad_play.length!=0&&(e.ad_play.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u5E7F\u544A\u64AD\u653E${d.play_times}\u6B21`)}),t.ad_play={...e.ad_play[0]}),e.ecpm_large.length!=0&&(e.ecpm_large.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u9AD8\u503C${d.large_value}`)}),t.ecpm_large={...e.ecpm_large[0]}),e.ecpm_small!=0&&(e.ecpm_small.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u6700\u4F4E\u503C${d.small_value}`)}),t.ecpm_small=e.ecpm_small[0]),e.ecpm_middle.length!=0&&(e.ecpm_middle.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u524D${d.forwords_times}\u6B21ecpm\u5747\u503C${d.middle_value}`)}),t.ecpm_middle={...e.ecpm_middle[0]}),e.passed.length!=0&&(e.passed.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.pass_times}\u6B21`)}),t.passed={...e.passed[0]}),e.withdraw.length!=0&&(e.withdraw.forEach(d=>{i.push(`\u81EA\u542F\u52A8\u8D77${d.start_in}\u5C0F\u65F6\u5185\uFF0C\u901A\u5173${d.withdraw_times}\u6B21`)}),t.withdraw={...e.withdraw[0]});let V="";e.condition=="1"&&(V=i.join("\u4E14")),e.condition=="2"&&(V=i.join("\u6216")),e.name=V;for(let d in t)t[d].length==0&&delete t[d];console.log("form_copy",t);let S=JSON.stringify(t);return{event_name:j.value,name:V,behavior_type:e.behavior_type,condition:e.condition,rule:S}},T=()=>{switch(console.log(B.value),B.value){case"1":console.log("\u5E7F\u544A\u64AD\u653E"),e.ad_play.length==0?e.ad_play.push({id:Date.now(),start_in:0,play_times:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"2":console.log("ecpm\u6700\u9AD8\u503C"),e.ecpm_large.length==0?e.ecpm_large.push({id:Date.now(),start_in:0,forwords_times:"1",large_value:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"3":console.log("ecpm\u6700\u4F4E\u503C"),e.ecpm_small.length==0?e.ecpm_small.push({id:Date.now(),start_in:0,forwords_times:"1",small_value:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"4":console.log("ecpm\u5747\u503C"),e.ecpm_middle.length==0?e.ecpm_middle.push({id:Date.now(),start_in:0,forwords_times:"1",middle_value:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"5":console.log("\u901A\u5173"),e.passed.length==0?e.passed.push({id:Date.now(),start_in:0,pass_times:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break;case"6":console.log("\u63D0\u73B0"),e.withdraw.length==0?e.withdraw.push({id:Date.now(),start_in:0,withdraw_times:0}):b({type:"warning",message:"\u8BE5\u6761\u4EF6\u5DF2\u5B58\u5728"});break}C.value=!1},U=(i,t)=>{console.log(i,t),console.log(e[i]),e[i].splice(t,1)},M=()=>{let i=O();console.log(i),Z(i).then(t=>{t.status==200?(b({type:"success",message:"\u65B0\u589E\u6210\u529F"}),A.push({name:"keybehavior"})):b({type:"warning",message:t.message})}).catch(t=>{console.log(t)})},H=()=>{A.go(-1)};return L(),(i,t)=>{const V=y("el-breadcrumb-item"),S=y("el-breadcrumb"),x=y("el-option"),d=y("el-select"),w=y("el-form-item"),c=y("el-input-number"),g=y("el-button"),P=y("el-switch"),R=y("el-form"),q=y("el-dialog");return _(),p("div",null,[n("div",le,[o(S,{separator:"/"},{default:s(()=>[o(V,null,{default:s(()=>[ae]),_:1}),o(V,null,{default:s(()=>[te]),_:1}),o(V,null,{default:s(()=>[oe]),_:1})]),_:1})]),n("div",se,[o(R,{model:e},{default:s(()=>[o(w,{label:"\u6DFB\u52A0\u5173\u952E\u884C\u4E3A\u4E8B\u4EF6"},{default:s(()=>[o(d,{modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=l=>j.value=l)},{default:s(()=>[(_(!0),p(v,null,h(K.value,l=>(_(),f(x,{label:l.label,key:l.value,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(w,{label:"\u5173\u952E\u884C\u4E3A\u7C7B\u578B"},{default:s(()=>[o(d,{modelValue:e.behavior_type,"onUpdate:modelValue":t[1]||(t[1]=l=>e.behavior_type=l),onChange:F},{default:s(()=>[(_(!0),p(v,null,h(I.value,l=>(_(),f(x,{label:l.label,value:l.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),(_(!0),p(v,null,h(e.ad_play,(l,m)=>(_(),f(w,{label:"\u5E7F\u544A\u64AD\u653E",key:l.id,onChange:a=>J("ad_play",m)},{default:s(()=>[n("div",ne,[n("div",null,[de,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,min:0,max:7*24,precision:0,style:{width:"60px",margin:"0 5px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ie,o(c,{modelValue:l.play_times,"onUpdate:modelValue":a=>l.play_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),_e]),o(g,{type:"text",onClick:$(a=>U("ad_play",m),["prevent"])},{default:s(()=>[ue]),_:2},1032,["onClick"])])]),_:2},1032,["onChange"]))),128)),(_(!0),p(v,null,h(e.ecpm_large,(l,m)=>(_(),f(w,{label:"ecpm\u6700\u9AD8\u503C",key:l.id},{default:s(()=>[n("div",re,[n("div",null,[pe,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),ce,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:s(()=>[(_(!0),p(v,null,h(E.value,a=>(_(),f(x,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),me,o(c,{modelValue:l.large_value,"onUpdate:modelValue":a=>l.large_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(g,{type:"text",onClick:$(a=>U("ecpm_large",m),["prevent"])},{default:s(()=>[ve]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(_(!0),p(v,null,h(e.ecpm_small,(l,m)=>(_(),f(w,{label:"ecpm\u6700\u4F4E\u503C",key:l.id},{default:s(()=>[n("div",he,[n("div",null,[fe,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),we,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:s(()=>[(_(!0),p(v,null,h(E.value,a=>(_(),f(x,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),ge,o(c,{modelValue:l.small_value,"onUpdate:modelValue":a=>l.small_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(g,{type:"text",onClick:$(a=>U("ecpm_small",m),["prevent"])},{default:s(()=>[ye]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(_(!0),p(v,null,h(e.ecpm_middle,(l,m)=>(_(),f(w,{label:"ecpm\u5747\u503C",key:l.id},{default:s(()=>[n("div",Ve,[n("div",null,[be,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),xe,o(d,{modelValue:l.forwords_times,"onUpdate:modelValue":a=>l.forwords_times=a,style:{width:"80px",margin:"0 5px"}},{default:s(()=>[(_(!0),p(v,null,h(E.value,a=>(_(),f(x,{value:a.value,key:a.value},null,8,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),ke,o(c,{modelValue:l.middle_value,"onUpdate:modelValue":a=>l.middle_value=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),o(g,{type:"text",onClick:$(a=>U("ecpm_middle",m),["prevent"])},{default:s(()=>[Ue]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(_(!0),p(v,null,h(e.passed,(l,m)=>(_(),f(w,{label:"\u901A\u5173",key:l.id},{default:s(()=>[n("div",$e,[n("div",null,[Ce,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),De,o(c,{modelValue:l.pass_times,"onUpdate:modelValue":a=>l.pass_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Be]),o(g,{type:"text",onClick:$(a=>U("passed",m),["prevent"])},{default:s(()=>[je]),_:2},1032,["onClick"])])]),_:2},1024))),128)),(_(!0),p(v,null,h(e.withdraw,(l,m)=>(_(),f(w,{label:"\u63D0\u73B0",key:l.id},{default:s(()=>[n("div",Ee,[n("div",null,[Se,o(c,{modelValue:l.start_in,"onUpdate:modelValue":a=>l.start_in=a,style:{width:"60px",margin:"0 5px"},min:0,max:7*24,precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ae,o(c,{modelValue:l.withdraw_times,"onUpdate:modelValue":a=>l.withdraw_times=a,style:{width:"60px",margin:"0 5px"},precision:0,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),Ie]),o(g,{type:"text",onClick:$(a=>U("withdraw",m),["prevent"])},{default:s(()=>[Ke]),_:2},1032,["onClick"])])]),_:2},1024))),128)),o(w,null,{default:s(()=>[o(g,{type:"text",onClick:t[2]||(t[2]=l=>C.value=!0)},{default:s(()=>[Ne]),_:1})]),_:1}),o(w,{label:"\u6761\u4EF6"},{default:s(()=>[o(P,{modelValue:e.condition,"onUpdate:modelValue":t[3]||(t[3]=l=>e.condition=l),"active-value":"2","inactive-value":"1","active-text":"\u6216","inactive-text":"\u4E14"},null,8,["modelValue"])]),_:1}),o(w,null,{default:s(()=>[n("div",Le,[o(g,{type:"primary",onClick:H},{default:s(()=>[Fe]),_:1}),o(g,{type:"primary",onClick:t[4]||(t[4]=l=>M())},{default:s(()=>[Je]),_:1})])]),_:1})]),_:1},8,["model"]),o(q,{modelValue:C.value,"onUpdate:modelValue":t[7]||(t[7]=l=>C.value=l),title:"\u6DFB\u52A0\u6761\u4EF6",width:"30%"},{footer:s(()=>[n("span",Te,[o(g,{onClick:t[6]||(t[6]=l=>C.value=!1)},{default:s(()=>[Me]),_:1}),o(g,{type:"primary",onClick:T},{default:s(()=>[He]),_:1})])]),default:s(()=>[Oe,o(d,{modelValue:B.value,"onUpdate:modelValue":t[5]||(t[5]=l=>B.value=l)},{default:s(()=>[(_(!0),p(v,null,h(N.value,l=>(_(),f(x,{value:l.value,label:l.label,key:l.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])])}}},Qe=z(Pe,[["__scopeId","data-v-1bcbc5ca"],["__file","/Users/apple/Desktop/project-b/relationship.b/src/views/KeyBehaviorAdd.vue"]]);export{Qe as default};

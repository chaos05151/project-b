import{_ as A,f as F,g as i,o as m,c as k,a as g,b as e,w as c,bw as y,bx as D,e as u,r,U as x,aJ as w,a4 as P}from"./index.27a7b396.js";import{a as E,b as J}from"./product.e1329e0e.js";import{e as S,a as j,r as G}from"./user.845bccdc.js";import"./request.9d852b1a.js";const s=F({page_index:1,page_size:10}),V=i(0),h=i(""),v=i(""),z=i([]),H=i(""),K=i("\u4E00\u7EA7\u6E38\u620F");let I=i([]),C=i([]);const _=o=>{S(o).then(a=>{a.status==200?(z.value=a.data.lists,V.value=a.data.total_count?a.data.total_count:0):y.error(a==null?void 0:a.message)}).catch(()=>{})},O=()=>{E().then(o=>{I.value=o.data}).catch(()=>{})},Q=o=>{J({main_product_id:o}).then(p=>{C.value=p.data}).catch(()=>{})},R=o=>{j(o).then(a=>{a.status==200&&(y.success("\u52A0\u5165\u9ED1\u540D\u5355\u6210\u529F\uFF01"),_(s))}).catch(()=>{})},W=o=>{G(o).then(a=>{a.status==200&&(y.success("\u79FB\u51FA\u9ED1\u540D\u5355\u6210\u529F\uFF01"),_(s))}).catch(()=>{})},X={name:"basetable",setup(){O(),_(s);const o=l=>{D.confirm("\u786E\u5B9A\u52A0\u5165\u9ED1\u540D\u5355\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{R(l)}).catch(()=>{})},a=l=>{D.confirm("\u786E\u5B9A\u79FB\u51FA\u9ED1\u540D\u5355\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{W(l)}).catch(()=>{})},p=()=>{if(v.value="",C.value="",h.value==-1)_(s);else{const l={main_product_id:h.value,...s};_(l),Q(h.value)}};return{tableData:z,query:s,pageTotal:V,removeBlackList:a,addBlackList:o,handlePageChange:l=>{s.page_index=l,p()},product_type:K,options:I,suboptions:C,main_product_name_selected:h,product_name_selected:v,main_product_value_select:H,getProductAndDataList:p,getDataById:()=>{if(v.value==-1){const l={main_product_id:h.value,...s};_(l)}else{const l={product_id:v.value,...s};_(l)}}}},methods:{withDraw(){this.$router.push("/withdraw")},userDetail(o){this.$router.push({name:"userdetail",params:{wechat_user_id:o}})},blackList(){this.$router.push("/blacklist")},userFeedback(){this.$router.push("/feedback")},goback(){this.$router.go(-1)}}},Y={class:"crumbs"},Z=u("\u98CE\u63A7\u7CFB\u7EDF"),$=u("\u7528\u6237\u7BA1\u7406"),ee={class:"container"},ae={class:"handle-box"},te=u("\xA0\xA0 "),oe=u("\u8FD4\u56DE"),le=u("\u8BE6\u60C5 "),ne=u(" \u79FB\u51FA\u9ED1\u540D\u5355 "),ce={class:"pagination"};function se(o,a,p,t,T,l){const B=r("el-breadcrumb-item"),U=r("el-breadcrumb"),b=r("el-option"),L=r("el-select"),f=r("el-button"),d=r("el-table-column"),q=r("el-table"),M=r("el-pagination");return m(),k("div",null,[g("div",Y,[e(U,{separator:"/"},{default:c(()=>[e(B,null,{default:c(()=>[Z]),_:1}),e(B,null,{default:c(()=>[$]),_:1})]),_:1})]),g("div",ee,[g("div",ae,[e(L,{modelValue:t.main_product_name_selected,"onUpdate:modelValue":a[0]||(a[0]=n=>t.main_product_name_selected=n),placeholder:"\u4E00\u7EA7\u6E38\u620F",class:"m-2",onChange:t.getProductAndDataList},{default:c(()=>[e(b,{label:"\u5168\u90E8",value:"-1"}),(m(!0),k(x,null,w(t.options,n=>(m(),P(b,{key:n.id,label:n.main_product_name,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),e(L,{modelValue:t.product_name_selected,"onUpdate:modelValue":a[1]||(a[1]=n=>t.product_name_selected=n),placeholder:"\u4E8C\u7EA7\u6E38\u620F",class:"m-2",onChange:t.getDataById},{default:c(()=>[e(b,{label:"\u5168\u90E8",value:"-1"}),(m(!0),k(x,null,w(t.suboptions,n=>(m(),P(b,{key:n.product_id,label:n.product_name,value:n.product_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),te,e(f,{type:"primary",onClick:l.goback},{default:c(()=>[oe]),_:1},8,["onClick"])]),e(q,{data:t.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:c(()=>[e(d,{prop:"id",label:"\u7528\u6237id"}),e(d,{prop:"nickname",label:"\u7528\u6237\u540D"}),e(d,{prop:"oaid",label:"\u6570\u76DFid"}),e(d,{prop:"ip",label:"\u7528\u6237ip"}),e(d,{prop:"ip_address",label:"\u7528\u6237ip\u5730\u5740"}),e(d,{prop:"bind_account_count",label:"\u5173\u8054\u8D26\u53F7\u6570"}),e(d,{prop:"illegal_time",label:"\u62C9\u9ED1\u65F6\u95F4"}),e(d,{label:"\u64CD\u4F5C",width:"220",align:"center"},{default:c(n=>[e(f,{type:"text",icon:"el-icon-link",onClick:N=>l.userDetail(n.row.id)},{default:c(()=>[le]),_:2},1032,["onClick"]),e(f,{type:"text",icon:"el-icon-edit",onClick:N=>t.removeBlackList(n.row.id)},{default:c(()=>[ne]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),g("div",ce,[e(M,{background:"",layout:"total, prev, pager, next","current-page":t.query.page_index,"page-size":t.query.page_size,total:t.pageTotal,onCurrentChange:t.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}var ue=A(X,[["render",se],["__scopeId","data-v-162fc6f0"]]);export{ue as default};

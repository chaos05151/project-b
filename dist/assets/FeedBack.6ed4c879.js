import{_ as q,g as s,f as L,r as u,o as g,c as y,a as k,b as e,w as n,G as x,e as h,F as V,H as B,I as P}from"./index.306d4242.js";import{a as H,b as M}from"./product.3d573cd4.js";import{g as S}from"./user.10c4ce5d.js";import{h as j}from"./moment.9709ab41.js";import"./request.70c27150.js";const m=s(""),v=s(""),A=s(0),w=s(""),F=s(0),E=s(""),G=s("\u9879\u76EE"),r=s("");let z=s([]),I=s([]);const J=L({}),i=L({page_index:1,page_size:10}),p=d=>{S(d).then(l=>{w.value=l.data.lists.map(c=>({...c,dispose_status:c.dispose_status==1?"\u5DF2\u5904\u7406":"\u672A\u5904\u7406",updated_at:c.updated_at?j(c.updated_at).format("YYYY-MM-DD HH:mm:ss"):""})),F.value=l.data.total_count?l.data.total_count:0}).catch(()=>{})},K=()=>{H().then(d=>{z.value=d.data}).catch(()=>{})},O=d=>{M({main_product_id:d}).then(c=>{I.value=c.data}).catch(()=>{})},Q={name:"basetable",setup(){r.value="",p({page_index:1,page_size:10}),K();const l=o=>{i.page_index=o,b()},c=o=>{b()},a=()=>{v.value="",m.value&&(b(),O(m.value))},b=()=>{if(m.value)if(v.value)if(r.value){const o={product_id:v.value,dispose_status:r.value,...i};p(o)}else{const o={product_id:v.value,...i};p(o)}else if(r.value){const o={main_product_id:m.value,dispose_status:r.value,...i};p(o)}else{const o={main_product_id:m.value,...i};p(o)}else if(r.value){const o={dispose_status:r.value,...i};p(o)}else p(i)};return{form:J,tableData:w,product_type:G,options:z,suboptions:I,main_product_name_selected:m,product_name_selected:v,main_product_value_select:E,check_main_product_name:A,query:i,pageTotal:F,getData:p,getProductAndDataList:a,getDataById:b,handlePageChange:l,getStaus:c,value:r}},methods:{feedBackDetail(d){this.$router.push({name:"feedbackdetail",params:{wechat_user_id:d}})},goback(){this.$router.go(-1)}}},R={class:"crumbs"},W=h("\u98CE\u63A7\u7CFB\u7EDF"),X=h("\u7528\u6237\u7BA1\u7406"),Z=h("\u7528\u6237\u53CD\u9988"),$={class:"container"},ee={class:"handle-box"},ae=h("\xA0\xA0 "),te=h("\u8BE6\u60C5 "),oe={class:"pagination"};function le(d,l,c,a,b,o){const C=u("el-breadcrumb-item"),N=u("el-breadcrumb"),f=u("el-option"),D=u("el-select"),_=u("el-table-column"),T=u("el-button"),U=u("el-table"),Y=u("el-pagination");return g(),y("div",null,[k("div",R,[e(N,{separator:"/"},{default:n(()=>[e(C,null,{default:n(()=>[W]),_:1}),e(C,null,{default:n(()=>[X]),_:1}),e(C,null,{default:n(()=>[Z]),_:1})]),_:1})]),k("div",$,[k("div",ee,[e(D,{modelValue:a.main_product_name_selected,"onUpdate:modelValue":l[0]||(l[0]=t=>a.main_product_name_selected=t),placeholder:"\u9879\u76EE\u540D\u79F0",class:"m-2",onChange:a.getProductAndDataList},{default:n(()=>[(g(!0),y(V,null,B(a.options,t=>(g(),P(f,{key:t.id,label:t.main_product_name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),e(D,{modelValue:a.product_name_selected,"onUpdate:modelValue":l[1]||(l[1]=t=>a.product_name_selected=t),placeholder:"\u5E94\u7528\u540D\u79F0",class:"m-2",onChange:a.getDataById},{default:n(()=>[(g(!0),y(V,null,B(a.suboptions,t=>(g(),P(f,{key:t.product_id,label:t.product_name,value:t.product_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"]),e(D,{modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value=t),placeholder:"\u5904\u7406\u72B6\u6001",class:"m-2",onChange:a.getStaus},{default:n(()=>[x(' <el-option label="\u5168\u90E8" value=""></el-option> '),e(f,{label:"\u672A\u5904\u7406",value:"0"}),e(f,{label:"\u5DF2\u5904\u7406",value:"1"})]),_:1},8,["modelValue","onChange"]),ae,x(' <el-button type="primary" @click="goback">\u8FD4\u56DE</el-button> ')]),e(U,{data:a.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:n(()=>[e(_,{prop:"main_product_name",label:"\u9879\u76EE\u540D\u79F0"}),e(_,{prop:"product_name",label:"\u5E94\u7528\u540D\u79F0"}),e(_,{prop:"id",label:"\u7528\u6237ID"}),e(_,{prop:"nickname",label:"\u7528\u6237\u540D"}),e(_,{prop:"tel",label:"\u7535\u8BDD"}),e(_,{prop:"oaid",label:"\u6570\u76DFid"}),e(_,{prop:"dispose_status",label:"\u662F\u5426\u5904\u7406"}),e(_,{prop:"updated_at",sortable:"",label:"\u53CD\u9988\u65F6\u95F4"}),e(_,{label:"\u53CD\u9988\u8BE6\u60C5",width:"220",align:"center"},{default:n(t=>[e(T,{type:"text",icon:"el-icon-link",onClick:ne=>o.feedBackDetail(t.row.id)},{default:n(()=>[te]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),k("div",oe,[e(Y,{background:"",layout:"total, prev, pager, next","current-page":a.query.page_index,"page-size":a.query.page_size,total:a.pageTotal,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}const re=q(Q,[["render",le],["__scopeId","data-v-5e20d142"],["__file","/Users/apple/Desktop/project-b github/project-b/src/views/FeedBack.vue"]]);export{re as default};

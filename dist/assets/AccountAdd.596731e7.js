import{_ as H,f as q,g as s,r as u,o as i,c as b,a as P,b as a,w as o,F as w,I as y,H as j,e as p,t as W}from"./index.2c638c17.js";import"./request.644f0e68.js";import{a as G,b as B}from"./product.fa6bd801.js";const K={class:"crumbs"},Q=p("\u6743\u9650\u7BA1\u7406"),X=p("\u6DFB\u52A0\u8D26\u53F7"),Y={class:"container"},Z=p("\u5168\u9009"),$=p("\u53D6\u6D88"),ee=p("\u4FDD\u5B58"),le={__name:"AccountAdd",setup(ae){const n=q({user_name:"",password:"",product_id:"",name:"",privilegeList:""}),f=s(""),C=s([]),g=s([]),E=()=>{G().then(t=>{t.status==200&&(C.value=t.data.map(e=>({value:e.id,label:e.main_product_name,children:[]})))})};s([]);const h=s(!1),_=s([]),V=s(!0),F=s();s({expandTrigger:"click",lazy:!0,lazyLoad(t,e){const{value:r}=t;B({main_product_id:r}).then(c=>{if(c.data==200){console.log(c);const d=c.data.map(m=>({value:m.product_id,label:m.item.product_name}));e(d)}})}});const S=t=>{console.log(t)},M=()=>{g.value=[],n.product_id="";let t={main_product_id:f.value};B(t).then(e=>{e.status==200&&(g.value=e.data.map(r=>({value:r.product_id,label:r.product_name})))})},v=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"server",label:"\u5BA2\u670D"},{value:"yunying",label:"\u8FD0\u8425"}],z=t=>{const e=t.length;h.value=e===v.length,V.value=e>0&&e<v.length},D=t=>{console.log(_.value,t),_.value=t?v.map(e=>e.value):[],V.value=!1},I=(t,e,r)=>{if(!e)return r(new Error("\u8BF7\u8F93\u5165\u7528\u6237\u540D"))},k=(t,e,r)=>{if(!e)return r(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801"))},x=(t,e,r)=>{if(!e)return r(new Error("\u8BF7\u8F93\u5165\u6635\u79F0"))},J=q({user_name:[{validator:I,trigger:"blur"}],password:[{validator:k,trigger:"blur"}],name:[{validator:x,trigger:"blur"}]}),O=()=>{n.privilegeList=_.value;let t=JSON.parse(JSON.stringify(n));x(),k(),k(),console.log(t)};return E(),(t,e)=>{const r=u("el-breadcrumb-item"),L=u("el-breadcrumb"),c=u("el-input"),d=u("el-form-item"),m=u("el-option"),U=u("el-select"),A=u("el-checkbox"),R=u("el-checkbox-group"),N=u("el-button"),T=u("el-form");return i(),b("div",null,[P("div",K,[a(L,{separator:"/"},{default:o(()=>[a(r,null,{default:o(()=>[Q]),_:1}),a(r,null,{default:o(()=>[X]),_:1})]),_:1})]),P("div",Y,[a(T,{model:n,"label-width":"100px",style:{width:"400px"},"status-icon":"",ref_key:"ruleFormRef",ref:F,rules:J},{default:o(()=>[a(d,{prop:"user_name",label:"\u7528\u6237\u540D",required:!0},{default:o(()=>[a(c,{modelValue:n.user_name,"onUpdate:modelValue":e[0]||(e[0]=l=>n.user_name=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",clearable:""},null,8,["modelValue"])]),_:1}),a(d,{prop:"password",label:"\u5BC6\u7801",required:!0},{default:o(()=>[a(c,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=l=>n.password=l),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1}),a(d,{prop:"name",label:"\u6635\u79F0",required:!0},{default:o(()=>[a(c,{modelValue:n.name,"onUpdate:modelValue":e[2]||(e[2]=l=>n.name=l),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),a(d,{label:"\u9879\u76EE",required:""},{default:o(()=>[a(U,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=l=>f.value=l),onChange:M,placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE"},{default:o(()=>[(i(!0),b(w,null,y(C.value,l=>(i(),j(m,{value:l.value,label:l.label,key:l.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"\u5E94\u7528",required:!0},{default:o(()=>[a(U,{modelValue:n.product_id,"onUpdate:modelValue":e[4]||(e[4]=l=>n.product_id=l),onChange:S,placeholder:"\u8BF7\u5148\u9009\u62E9\u9879\u76EE"},{default:o(()=>[(i(!0),b(w,null,y(g.value,l=>(i(),j(m,{value:l.value,label:l.label,key:l.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{prop:"prilegeList",label:"\u89D2\u8272",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:"blur"}]},{default:o(()=>[a(A,{modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=l=>h.value=l),indeterminate:V.value,onChange:D},{default:o(()=>[Z]),_:1},8,["modelValue","indeterminate"]),a(R,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=l=>_.value=l),onChange:z},{default:o(()=>[(i(),b(w,null,y(v,l=>a(A,{key:l.value,label:l.value},{default:o(()=>[p(W(l.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(d,null,{default:o(()=>[a(N,null,{default:o(()=>[$]),_:1}),a(N,{type:"primary",onClick:O},{default:o(()=>[ee]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},ne=H(le,[["__file","/Users/apple/Desktop/project-b github/project-b/src/views/privilegeManagement/AccountAdd.vue"]]);export{ne as default};

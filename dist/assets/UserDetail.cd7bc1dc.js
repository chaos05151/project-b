import{_ as $,g as f,f as q,M as ee,r as i,o as w,c as T,a as b,b as l,w as a,G as D,E as ae,e as r,t as _,F as I,I as L,J as v,K as C,L as U}from"./index.87432d79.js";import{h as W}from"./moment.9709ab41.js";import{b as le,u as te,c as oe,d as de}from"./user.4304eb89.js";import"./request.5c28a085.js";const ne=[{prop:"id",label:"\u5E8F\u53F7",editable:!1,type:"input",show:!1,isedited:!0},{prop:"amount",label:"\u63D0\u73B0\u91D1\u989D",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip_address",label:"\u63D0\u73B0ip\u5730\u5740",editable:!1,type:"input",show:!0,isedited:!0},{prop:"batch_id",label:"\u63D0\u73B0\u8BA2\u5355\u53F7",editable:!1,type:"switch",show:!0},{prop:"status",label:"\u63D0\u73B0\u72B6\u6001",editable:!1,type:"input",show:!0},{prop:"updated_at",label:"\u63D0\u73B0\u65F6\u95F4",editable:!1,type:"input",show:!0}],se=[{prop:"id",label:"id",editable:!1,type:"input",show:!1,isedited:!0},{prop:"oaid",label:"\u6570\u76DFid",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip",label:"\u767B\u5F55ip",editable:!1,type:"input",show:!0,isedited:!0},{prop:"ip_address",label:"\u767B\u5F55ip\u5730\u5740",editable:!1,type:"input",show:!0},{prop:"updated_at",label:"\u767B\u5F55\u65F6\u95F4",editable:!1,type:"input",show:!0}],G={RiskHeaderFirstTab:ne,RiskHeaderSecondTab:se};const y=f(0),re=f("first"),A=f([]),Y=f([]),o=q({}),ie=G.RiskHeaderFirstTab,ue=G.RiskHeaderSecondTab,h=f(""),g=q({page_index:1,page_size:10}),H=f(0),z=f(""),_e=d=>{const s={...d,page_index:g.page_index,page_size:g.page_size};console.log(s),oe(s).then(c=>{console.log("getUserWithdrawData",c),H.value=c.data.total_count,A.value=c.data.lists.map(e=>({...e,updated_at:W(e.updated_at).format("YYYY-MM-DD HH:mm:ss"),status:e.status==1?"\u5F85\u5BA1\u6838":e.status==2?"\u63D0\u73B0\u4E2D":e.status==3?"\u5DF2\u63D0\u73B0":e.status==4?"\u62D2\u7EDD\u63D0\u73B0":e.status==5?"\u63D0\u73B0\u5931\u8D25":"\u672A\u77E5\u72B6\u6001"})),console.log("tableDataAAAA.value",A.value)}).catch(()=>{})},P=d=>{le(d).then(s=>{console.log("getUserDetailData",s.data),o.value=s.data,console.log("userDetail",o.value),console.log("userDetail.blacked_days",o.value.blacked_days),console.log("userDetail.withdrawable",o.value.withdrawable),o.id=o.value.id,o.oaid=o.value.oaid,o.blacked_days=o.value.blacked_days,o.withdrawable=o.value.withdrawable,o.nickname=o.value.nickname,o.tel=o.value.tel,o.bind_account_count=o.value.bind_account_count,o.real_name_authenticated=o.value.real_name_authenticated?"\u662F":"\u5426",o.withdraw_reward=o.value.withdraw_reward,o.withdraw_times=o.value.withdraw_times,o.reward=o.value.reward,o.ip=o.value.ip,o.ip_address=o.value.ip_address}).catch(()=>{})},J=()=>{const d={uid:z.value,page_index:g.page_index,page_size:g.page_size};console.log(d),de(d).then(s=>{console.log("getUserLoginData",s.data),H.value=s.data.total_count,Y.value=s.data.lists.map(c=>({...c,updated_at:W(c.updated_at).format("YYYY-MM-DD HH:mm:ss")})),console.log("tableDataAAAA.value",Y.value)}).catch(()=>{})},N=(d,s)=>{te(d,s).then(c=>{c.status==200&&ae.success("\u4FEE\u6539\u6210\u529F\uFF01")})},j=d=>{const s={wechat_user_id:d,page_index:g.page_index,page_size:g.page_size};g.page_index,g.page_size,y.value==0?_e(s):y.value==1&&J()},ce={name:"DynamicModifyTable",setup(){const d=ee();return h.value=d.params.wechat_user_id,z.value=d.params.wechat_user_id,console.log("wechat_user_id",h.value),j(h.value),P(h.value),{message:re,whichTab:y,wechat_user_id:h,userDetail:o,tableDataAAAA:A,tableDataBBBB:Y,tableHeaderFirstTab:ie,tableHeaderSecondTab:ue,query:g,pageTotal:H,id:z,handlePageChange:c=>{g.page_index=c,console.log(h.value),P(h.value),J()}}},data(){return{}},methods:{handleTabClick(d){y.value=d.index,console.log("whichTab",y.value),j(h.value)},blackedDays(){const d={blacked_days:o.blacked_days};N(h.value,d)},withDrawable(){const d={withdrawable:o.withdrawable};N(h.value,d)},goback(){this.$router.go(-1)}}},pe={class:""},be={class:"crumbs",style:{position:"relative"}},he=r("\u98CE\u63A7\u7CFB\u7EDF"),ge=r("\u7528\u6237\u7BA1\u7406"),we=r("\u7528\u6237\u8BE6\u60C5"),fe={class:"container"},me=r(" \u8FD4\u56DE"),ve=r("\u6B63\u5E38"),De=r("\u5C01\u79813\u5929"),ye=r("\u5C01\u79817\u5929"),ke=r("\u6C38\u4E45\u5C01\u7981"),Ve=r("\u5141\u8BB8"),Ce=r("\u7981\u6B62"),Ue={class:"editable-row"},xe={class:"editable-row"},Te={class:"editable-row-span"},Ae={class:"editable-row"},Ye={class:"editable-row"},ze={class:"editable-row-span"},He={class:"pagination"};function Be(d,s,c,e,Me,k){const x=i("el-breadcrumb-item"),K=i("el-breadcrumb"),O=i("el-button"),u=i("el-form-item"),V=i("el-form"),m=i("el-radio"),B=i("el-radio-group"),M=i("el-input"),F=i("el-date-picker"),R=i("el-table-column"),S=i("el-table"),E=i("el-tab-pane"),Q=i("el-tabs"),X=i("el-pagination");return w(),T("div",pe,[b("div",be,[l(K,{separator:"/"},{default:a(()=>[l(x,null,{default:a(()=>[he]),_:1}),l(x,null,{default:a(()=>[ge]),_:1}),l(x,null,{default:a(()=>[we]),_:1})]),_:1})]),b("div",fe,[l(O,{type:"primary",onClick:k.goback,style:{float:"right"}},{default:a(()=>[me]),_:1},8,["onClick"]),l(V,{model:e.userDetail,inline:!0},{default:a(()=>[l(u,{label:"\u7528\u6237id"},{default:a(()=>[r(_(e.userDetail.id),1)]),_:1}),l(u,{label:"\u7528\u6237\u540D"},{default:a(()=>[r(_(e.userDetail.nickname),1)]),_:1}),l(u,{label:"\u624B\u673A\u53F7\u7801"},{default:a(()=>[r(_(e.userDetail.tel),1)]),_:1}),l(u,{label:"\u8BBE\u5907\u5173\u8054\u53F7"},{default:a(()=>[r(_(e.userDetail.bind_account_count),1)]),_:1})]),_:1},8,["model"]),l(V,{model:e.userDetail,inline:!0},{default:a(()=>[l(u,{label:"\u7D2F\u79EF\u79EF\u5206"},{default:a(()=>[r(_(e.userDetail.reward),1)]),_:1}),l(u,{label:"\u7D2F\u79EF\u63D0\u73B0"},{default:a(()=>[r(_(e.userDetail.withdraw_reward),1)]),_:1}),l(u,{label:"\u5DF2\u63D0\u73B0\u6B21\u6570"},{default:a(()=>[r(_(e.userDetail.withdraw_times),1)]),_:1}),l(u,{label:"\u662F\u5426\u5B9E\u540D\u5236"},{default:a(()=>[r(_(e.userDetail.real_name_authenticated),1)]),_:1})]),_:1},8,["model"]),l(V,{model:e.userDetail,inline:!0},{default:a(()=>[l(u,{label:"\u6CE8\u518CIP"},{default:a(()=>[r(_(e.userDetail.ip),1)]),_:1}),l(u,{label:"IP\u5730\u5740"},{default:a(()=>[r(_(e.userDetail.ip_address),1)]),_:1}),l(u,{label:"\u6570\u76DFID"},{default:a(()=>[r(_(e.userDetail.oaid),1)]),_:1})]),_:1},8,["model"]),l(V,{model:e.userDetail},{default:a(()=>[l(u,{label:"\u5C01\u7981\u72B6\u6001"},{default:a(()=>[l(B,{onChange:k.blackedDays,modelValue:e.userDetail.blacked_days,"onUpdate:modelValue":s[0]||(s[0]=t=>e.userDetail.blacked_days=t)},{default:a(()=>[l(m,{label:0},{default:a(()=>[ve]),_:1}),l(m,{label:3},{default:a(()=>[De]),_:1}),l(m,{label:7},{default:a(()=>[ye]),_:1}),l(m,{label:-1},{default:a(()=>[ke]),_:1})]),_:1},8,["onChange","modelValue"])]),_:1}),l(u,{label:"\u5141\u8BB8\u63D0\u73B0"},{default:a(()=>[l(B,{onChange:k.withDrawable,modelValue:e.userDetail.withdrawable,"onUpdate:modelValue":s[1]||(s[1]=t=>e.userDetail.withdrawable=t)},{default:a(()=>[l(m,{label:!0},{default:a(()=>[Ve]),_:1}),l(m,{label:!1},{default:a(()=>[Ce]),_:1})]),_:1},8,["onChange","modelValue"])]),_:1})]),_:1},8,["model"]),D(` <el-button type="primary" style='position: absolute;right:10px;top:1px;'>\u6DFB\u52A0\u89C4\u5219</el-button> `),b("div",null,[l(Q,{modelValue:e.message,"onUpdate:modelValue":s[2]||(s[2]=t=>e.message=t),type:"border-card",onTabClick:k.handleTabClick},{default:a(()=>[l(E,{label:"\u63D0\u73B0\u8BB0\u5F55",name:"first"},{default:a(()=>[l(S,{data:e.tableDataAAAA,style:{width:"100%"}},{default:a(()=>[(w(!0),T(I,null,L(e.tableHeaderFirstTab,(t,Z)=>(w(),v(R,{prop:t.prop,label:t.label,key:t.prop},{default:a(n=>[C(b("div",Ue,[t.type==="input"?(w(),v(M,{key:0,size:"small",modelValue:n.row[t.prop],"onUpdate:modelValue":p=>n.row[t.prop]=p,placeholder:`\u8BF7\u8F93\u5165${t.label}`,onChange:p=>d.handleEdit(n.$index,n.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):D("v-if",!0),t.type==="date"?(w(),v(F,{key:1,modelValue:n.row[t.prop],"onUpdate:modelValue":p=>n.row[t.prop]=p,type:"date","value-format":"YYYY-MM-DD",placeholder:`\u8BF7\u8F93\u5165${t.label}`,onChange:p=>d.handleEdit(n.$index,n.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):D("v-if",!0)],512),[[U,t.editable||n.row.editable]]),C(b("div",xe,[b("span",Te,_(n.row[t.prop]),1)],512),[[U,!t.editable&&!n.row.editable]])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])]),_:1}),l(E,{label:"\u767B\u5F55\u8BB0\u5F55",name:"second"},{default:a(()=>[l(S,{data:e.tableDataBBBB,style:{width:"100%"}},{default:a(()=>[(w(!0),T(I,null,L(e.tableHeaderSecondTab,(t,Z)=>(w(),v(R,{prop:t.prop,label:t.label,key:t.prop},{default:a(n=>[C(b("div",Ae,[t.type==="input"?(w(),v(M,{key:0,size:"small",modelValue:n.row[t.prop],"onUpdate:modelValue":p=>n.row[t.prop]=p,placeholder:`\u8BF7\u8F93\u5165${t.label}`,onChange:p=>d.handleEdit(n.$index,n.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):D("v-if",!0),t.type==="date"?(w(),v(F,{key:1,modelValue:n.row[t.prop],"onUpdate:modelValue":p=>n.row[t.prop]=p,type:"date","value-format":"YYYY-MM-DD",placeholder:`\u8BF7\u8F93\u5165${t.label}`,onChange:p=>d.handleEdit(n.$index,n.row)},null,8,["modelValue","onUpdate:modelValue","placeholder","onChange"])):D("v-if",!0)],512),[[U,t.editable||n.row.editable]]),C(b("div",Ye,[b("span",ze,_(n.row[t.prop]),1)],512),[[U,!t.editable&&!n.row.editable]])]),_:2},1032,["prop","label"]))),128))]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue","onTabClick"])]),b("div",He,[l(X,{background:"",layout:"total, prev, pager, next","current-page":e.query.page_index,"page-size":e.query.page_size,total:e.pageTotal,onCurrentChange:e.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}const Ie=$(ce,[["render",Be],["__scopeId","data-v-31ad7fb6"],["__file","/Users/apple/Desktop/project-b github/project-b/src/views/UserDetail.vue"]]);export{Ie as default};

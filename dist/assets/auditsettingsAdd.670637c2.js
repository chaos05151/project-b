import{_ as Q,C as W,r as g,D as q,e as i,a as r,c as d,t as M,j as l,k as n,T as X,f as Z,F as _,m as c,p,z as m,v as U,y as h,q as ee,U as te,b as ae,l as w}from"./index.3fee5d13.js";import{c as le}from"./shop.899b24a0.js";import{s as V}from"./shop.eb8d0c28.js";const ne={class:"crumbs"},oe=m(" \u98CE\u63A7\u7CFB\u7EDF "),ue=m("\u5B9E\u540D\u8BA4\u8BC1/\u9632\u6C89\u8FF7"),re={class:"container",style:{height:"1000px"}},se=m("\u53D6\u6D88"),ie=m("\u4FDD\u5B58"),de={__name:"auditsettingsAdd",setup(_e){const x=W(),y=g([]),k=g([]),S=g([]),C=g([]),D=g([]),J=g(),t=q({main_product_id:"",main_product_name:"",product_id:"",product_name:"",channel:"",channel_name:"",version_b:"",real_name_authentication_status:1,certification_node_status:1,anti_addiction_status:1,anti_addiction_open_condition:1,privacy_agreement_status:1,config_type:1,appoint_time:"",specify_effective_num:0}),Y=q({main_product_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE",trigger:"change"}],product_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u5E94\u7528",trigger:"change"}],channel:[{required:!0,message:"\u8BF7\u9009\u62E9\u6E20\u9053",trigger:"change"}],version_b:[{required:!0,message:"\u8BF7\u9009\u62E9\u7248\u672C",trigger:"change"}],real_name_authentication_status:[{required:!0,message:"\u8BF7\u9009\u62E9\u662F\u5426\u5F00\u542F\u5B9E\u540D\u8BA4\u8BC1",trigger:"change"}],certification_node_status:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B9E\u540D\u8BA4\u8BC1\u8282\u70B9",trigger:"change"}],anti_addiction_status:[{required:!0,message:"\u8BF7\u9009\u62E9\u9632\u6C89\u8FF7\u5F00\u542F",trigger:"change"}]}),E=()=>{X().then(o=>{o.status==200&&(y.value=o.data)}).catch(o=>{console.log(o)}),Z().then(o=>{o.status==200&&(D.value=o.data)}).catch(o=>{console.log(o)})},P=o=>{JSON.parse(JSON.stringify(y.value)).forEach(u=>{u.id==o&&(t.main_product_name=u.main_product_name)})},T=o=>{JSON.parse(JSON.stringify(k.value)).forEach(u=>{u.product_id==o&&(t.product_name=u.product_name)})},A=o=>{P(o),t.product_id="";let a={main_product_id:t.main_product_id};ae(a).then(u=>{u.status==200&&(k.value=u.data)})},B=o=>{t.channel="",T(o),JSON.parse(JSON.stringify(D.value)).forEach(u=>{u.value==o.toString()&&(S.value=u.children)})},F=o=>{t.version_b="";let a=JSON.parse(JSON.stringify(S.value));console.log(a,o),a.map(u=>{u.value==o&&(C.value=u.children)})},R=()=>{t.appoint_time;let o=t.appoint_time[0]+"~"+t.appoint_time[1];t.appoint_time=o},j=o=>{o.validate((a,u)=>{a?(console.log("submit!"),R(),console.log(t),le(t).then(f=>{f.status==200?(w.success("\u6DFB\u52A0\u6210\u529F"),x.push({name:"auditsettings"})):w.error("\u6DFB\u52A0\u5931\u8D25,"+f.message)}).catch(f=>{w.error(f)})):console.log("error submit!",u)})},z=()=>{x.push({name:"auditsettings"})},$=o=>{};return E(),(o,a)=>{const u=i("el-breadcrumb-item"),f=i("el-breadcrumb"),v=i("el-option"),b=i("el-select"),s=i("el-form-item"),N=i("el-radio"),L=i("el-radio-group"),G=i("el-switch"),H=i("el-date-picker"),I=i("el-input-number"),O=i("el-button"),K=i("el-form");return r(),d("div",null,[M("div",ne,[l(f,{separator:"/"},{default:n(()=>[l(u,null,{default:n(()=>[oe]),_:1}),l(u,null,{default:n(()=>[ue]),_:1})]),_:1})]),M("div",re,[l(K,{ref_key:"ruleFormRef",ref:J,rules:Y,model:t,"status-icon":""},{default:n(()=>[l(s,{label:"\u9009\u62E9\u9879\u76EE",prop:"main_product_id"},{default:n(()=>[l(b,{style:{width:"200px"},modelValue:t.main_product_id,"onUpdate:modelValue":a[0]||(a[0]=e=>t.main_product_id=e),onChange:A,clearable:"",onVisibleChange:$},{default:n(()=>[(r(!0),d(_,null,c(y.value,e=>(r(),p(v,{value:e.id,label:e.main_product_name,key:e.id},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u9009\u62E9\u5E94\u7528",prop:"product_id"},{default:n(()=>[l(b,{style:{width:"200px"},modelValue:t.product_id,"onUpdate:modelValue":a[1]||(a[1]=e=>t.product_id=e),onChange:B,clearable:""},{default:n(()=>[(r(!0),d(_,null,c(k.value,e=>(r(),p(v,{key:e.product_id,label:e.product_name,value:e.product_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u9009\u62E9\u6E20\u9053",prop:"channel"},{default:n(()=>[l(b,{style:{width:"200px"},modelValue:t.channel,"onUpdate:modelValue":a[2]||(a[2]=e=>t.channel=e),onChange:F,clearable:""},{default:n(()=>[(r(!0),d(_,null,c(S.value,e=>(r(),p(v,{key:e.value,label:e.label_name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u9009\u62E9\u7248\u672C",prop:"version_b"},{default:n(()=>[l(b,{style:{width:"200px"},modelValue:t.version_b,"onUpdate:modelValue":a[3]||(a[3]=e=>t.version_b=e),clearable:""},{default:n(()=>[(r(!0),d(_,null,c(C.value,e=>(r(),p(v,{value:e.value,label:e.label,key:e.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u662F\u5426\u5F00\u542F\u5B9E\u540D\u8BA4\u8BC1",prop:"real_name_authentication_status"},{default:n(()=>[l(L,{modelValue:t.real_name_authentication_status,"onUpdate:modelValue":a[4]||(a[4]=e=>t.real_name_authentication_status=e)},{default:n(()=>[(r(!0),d(_,null,c(h(V).real_name_authentication_list,e=>(r(),p(N,{label:e.value,key:e.value},{default:n(()=>[m(U(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u5B9E\u540D\u8BA4\u8BC1\u8282\u70B9",prop:"certification_node_status"},{default:n(()=>[l(b,{style:{width:"200px"},modelValue:t.certification_node_status,"onUpdate:modelValue":a[5]||(a[5]=e=>t.certification_node_status=e)},{default:n(()=>[(r(!0),d(_,null,c(h(V).certification_node_list,e=>(r(),p(v,{value:e.value,label:e.label,key:e.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u9632\u6C89\u8FF7\u5F00\u542F",prop:"anti_addiction_status"},{default:n(()=>[l(L,{modelValue:t.anti_addiction_status,"onUpdate:modelValue":a[6]||(a[6]=e=>t.anti_addiction_status=e)},{default:n(()=>[(r(!0),d(_,null,c(h(V).anti_addiction_status_list,e=>(r(),p(N,{label:e.value,key:e.value},{default:n(()=>[m(U(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),ee(l(s,{label:"\u90E8\u5206\u5F00\u542F\u6761\u4EF6"},{default:n(()=>[l(L,{modelValue:t.anti_addiction_open_condition,"onUpdate:modelValue":a[7]||(a[7]=e=>t.anti_addiction_open_condition=e)},{default:n(()=>[(r(!0),d(_,null,c(h(V).anti_addiction_open_condition_list,e=>(r(),p(N,{label:e.value,key:e.value},{default:n(()=>[m(U(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},512),[[te,t.anti_addiction_status=="2"]]),l(s,{label:"\u9690\u79C1\u534F\u8BAE",prop:"privacy_agreement_status"},{default:n(()=>[l(G,{modelValue:t.privacy_agreement_status,"onUpdate:modelValue":a[8]||(a[8]=e=>t.privacy_agreement_status=e),"active-value":2,"inactive-value":1},null,8,["modelValue"])]),_:1}),l(s,{label:"\u6307\u5B9A\u751F\u6548\u65E5\u671F"},{default:n(()=>[l(H,{modelValue:t.appoint_time,"onUpdate:modelValue":a[9]||(a[9]=e=>t.appoint_time=e),type:"datetimerange",format:"YYYY-MM-DD hh:mm:ss","value-format":"YYYY-MM-DD hh:mm:ss","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u751F\u6548\u4EBA\u6570"},{default:n(()=>[l(I,{modelValue:t.specify_effective_num,"onUpdate:modelValue":a[10]||(a[10]=e=>t.specify_effective_num=e),controls:!1,precision:0,min:0},null,8,["modelValue"])]),_:1}),l(s,null,{default:n(()=>[l(O,{onClick:z},{default:n(()=>[se]),_:1}),l(O,{type:"primary",onClick:a[11]||(a[11]=e=>j(J.value))},{default:n(()=>[ie]),_:1})]),_:1})]),_:1},8,["rules","model"])])])}}},fe=Q(de,[["__file","/Users/apple/Desktop/project-b/relationship.b/src/views/AuditSettings/auditsettingsAdd.vue"]]);export{fe as default};

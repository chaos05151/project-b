import{_ as N,u as C,f as A,g as R,r,o as j,c as B,a as p,b as e,w as o,D as M,e as u,E as m}from"./index.2c638c17.js";import{a as P}from"./privilelge.cc9ece5b.js";import{d as f,m as b}from"./getMenus.d2e8ac28.js";import"./request.644f0e68.js";const U={class:"crumbs"},q=u("\u6743\u9650\u7BA1\u7406"),D=u("\u6DFB\u52A0\u89D2\u8272"),E={class:"container"},J=u("\u53D6\u6D88"),O=u("\u4FDD\u5B58"),S={__name:"PrivilegeAdd",setup(T){const g=C(),t=A({name:"",remark:"",menus:[]}),c=R(),h=f(b);console.log(f(b));const k=()=>{P(t).then(l=>{l.status==200&&m.success("\u6DFB\u52A0\u6210\u529F")})},v=()=>{let l=JSON.parse(JSON.stringify(c.value.getCheckedNodes(!1,!0)));l=l.map(a=>a.id);const s=l.join(",");if(t.menus=s,t.menus==0){m.error("\u8BF7\u9009\u62E9\u89D2\u8272\u6743\u9650");return}else if(t.name==""){m.error("\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0");return}else console.log(t),k()},V=()=>{g.go(-1)};return(l,s)=>{const a=r("el-breadcrumb-item"),x=r("el-breadcrumb"),_=r("el-input"),n=r("el-form-item"),w=r("el-tree"),i=r("el-button"),y=r("el-form");return j(),B("div",null,[p("div",U,[e(x,{separator:"/"},{default:o(()=>[e(a,null,{default:o(()=>[q]),_:1}),e(a,null,{default:o(()=>[D]),_:1})]),_:1})]),p("div",E,[e(y,{model:t,"label-width":"100px",style:{width:"400px"}},{default:o(()=>[e(n,{prop:"name",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"}]},{default:o(()=>[e(_,{modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=d=>t.name=d),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),e(n,{prop:"remark",label:"\u5907\u6CE8/\u63CF\u8FF0"},{default:o(()=>[e(_,{modelValue:t.remark,"onUpdate:modelValue":s[1]||(s[1]=d=>t.remark=d),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u6635\u79F0"},null,8,["modelValue"])]),_:1}),e(n,{prop:"menus",label:"\u89D2\u8272\u6743\u9650",rules:[{required:!0,message:"\u8BF7\u9009\u62E9",trigger:"blur"}]},{default:o(()=>[e(w,{ref_key:"treeRef",ref:c,data:M(h),"show-checkbox":"","node-key":"id"},null,8,["data"])]),_:1}),e(n,null,{default:o(()=>[e(i,{onClick:V},{default:o(()=>[J]),_:1}),e(i,{type:"primary",onClick:v},{default:o(()=>[O]),_:1})]),_:1})]),_:1},8,["model"])])])}}},I=N(S,[["__file","/Users/apple/Desktop/project-b github/project-b/src/views/privilegeManagement/PrivilegeAdd.vue"]]);export{I as default};
